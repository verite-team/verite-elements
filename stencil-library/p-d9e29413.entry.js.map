{"version":3,"names":["I18nProvider","constructor","hostRef","this","translationCache","Map","readyPromise","Promise","resolve","resolveReady","getSupportedLocales","supportedLocales","split","map","locale","trim","getPreferredLocale","supported","console","log","length","includes","warn","fallbackLocale","htmlLang","document","documentElement","lang","browserLocales","navigator","languages","language","browserLocale","handleLocaleChange","loadCurrentTranslations","componentWillLoad","el","__provider","disconnectedCallback","isLoading","cached","get","currentTranslations","translationsLoaded","emit","rawTranslations","translations","JSON","parse","loadTranslations","translationsPath","path","replace","response","fetch","ok","Error","statusText","json","error","flattened","flattenTranslations","set","obj","prefix","Object","entries","reduce","acc","key","value","newKey","assign","toString","translate","input","defaultParams","startsWith","withoutPrefix","slice","translationKey","paramParts","inlineParams","param","params","translation","keys","_","getClosestProvider","element","providerElement","closest","currentElement","shadowRoot","getRootNode","ShadowRoot","hostProvider","_a","host","lightProvider","_b","getTranslation","waitForTranslations","render","h","name","authAltCardCss","VuiAuthAltCardStyle0","AuthAltCard","provider","elevation","class","heading","description","size","align","prompt","action","variant","authCardCss","VuiAuthCardStyle0","AuthCard","brandLabel","brandLogo","authFooterCss","VuiAuthFooterStyle0","AuthFooter","handleActionClick","actionClick","part","onClick","showBrand","showDivider","orientation","label","default","logo","createValidationRules","ValidationRules","required","fieldName","message","validate","undefined","email","test","allowedDomains","domains","join","domain","toLowerCase","blockedDomains","minLength","maxLength","hasUppercase","hasLowercase","hasNumber","hasSpecialChar","createNameRules","createPhoneRules","createPasswordRules","options","rules","push","requireUppercase","requireLowercase","requireNumbers","requireSpecialChars","createEmailRules","toJSON","defaultValue","e","authFormCss","VuiAuthFormStyle0","AuthForm","validationRules","_firstNameLabel","_lastNameLabel","_emailLabel","_phoneLabel","_passwordLabel","togglePasswordVisibility","passwordVisible","handleSubmit","preventDefault","isSubmitted","display","firstNameError","validateField","firstName","firstNameRules","lastNameError","lastName","lastNameRules","emailError","emailRules","phoneError","phone","phoneRules","passwordError","password","passwordRules","formSubmit","handleInput","field","target","handleForgotPassword","forgotPassword","parsedEmailValidation","emailValidation","firstnameLabel","lastnameLabel","emailLabel","phoneLabel","parsedPasswordValidation","passwordValidation","passwordLabel","rule","getSubmitTranslationKey","onSubmit","gap","direction","items","breakpointDirection","breakpoint","htmlFor","errorMessage","id","placeholder","firstnamePlaceholder","autocapitalize","autocomplete","autocorrect","disabled","invalid","onInput","onEnterKey","lastnamePlaceholder","emailPlaceholder","type","phonePlaceholder","passwordPlaceholder","href","exportparts","forgotPasswordLabel","busy","submitLabel","authHeaderCss","VuiAuthHeaderStyle0","AuthHeader","brandCss","VuiBrandStyle0","PoweredBy","Host","src","alt","width","height","buttonCss","VuiButtonStyle0","Button","handleClick","event","buttonClick","internals","form","requestSubmit","cardCss","VuiCardStyle0","Card","style","cardContentCss","VuiCardContentStyle0","CardContent","cardDescriptionCss","VuiCardDescriptionStyle0","CardDescription","cardFooterCss","VuiCardFooterStyle0","CardFooter","cardHeaderCss","VuiCardHeaderStyle0","CardHeader","cardTitleCss","VuiCardTitleStyle0","CardTitle","dividerCss","VuiDividerStyle0","Divider","role","dropdownMenuCss","VuiDropdownMenuStyle0","DropdownMenu","handleTriggerClick","stopPropagation","isOpen","handleClickOutside","isInside","contains","position","dropdownMenuContentCss","VuiDropdownMenuContentStyle0","DropdownMenuContent","dropdownMenuItemCss","VuiDropdownMenuItemStyle0","DropdownMenuItem","itemClick","handleKeyDown","onKeyDown","tabindex","dropdownMenuSeparatorCss","VuiDropdownMenuSeparatorStyle0","DropdownMenuSeparator","dropdownMenuTriggerCss","VuiDropdownMenuTriggerStyle0","DropdownMenuTrigger","errorMessageCss","VuiErrorMessageStyle0","ErrorMessage","showIcon","flexCss","VuiFlexStyle0","Flex","componentDidLoad","container","querySelector","setupResizeObserver","observer","disconnect","ResizeObserver","entry","breakpointValue","parseInt","contentRect","setProperty","observe","getGapStyle","spaceUnit","styles","getJustifyContent","justify","start","end","center","between","around","evenly","getAlignItems","stretch","baseline","flexDirection","justifyContent","alignItems","flexWrap","wrap","formInputCss","VuiFormInputStyle0","Label","Translate","translateText","translatedText","text","parsedParams","iconCss","VuiIconStyle0","Icon","loadIconData","iconName","svgText","svgContent","color","innerHTML","linkCss","VuiLinkStyle0","Link","rel","Icons","twitter","props","xmlns","viewBox","d","fill","gitHub","google","maskUnits","x","y","mask","apple","paypal","logoCss","VuiLogoStyle0","Logo","otpCss","VuiOtpStyle0","Otp","codeLength","handleDelete","handleDigitInput","handleMouseDown","focusActive","code","setTimeout","activeTextbox","activeIndex","focus","isBackspace","digit","Array","from","index","active","readonly","focusable","onMouseDown","placeholderCss","VuiPlaceholderStyle0","Placeholder","borderRadius","radius","requestCss","VuiRequestStyle0","Request","handleApprove","requestApprove","handleDeny","requestDeny","permissions","permissionsList","p","application","permission","redirectUri","showRedirect","spinnerCss","VuiSpinnerStyle0","Spinner","cx","cy","r","stroke","textboxCss","VuiTextboxStyle0","Textbox","inputChange","enterKey","handleChange","valueChange","maxlength","onChange","themeToggleCss","VuiThemeToggleStyle0","ThemeToggle","theme","getInitialTheme","storedTheme","localStorage","getItem","dataTheme","getAttribute","window","matchMedia","matches","themeChanged","newValue","setAttribute","classList","remove","add","setItem","nextTheme","defaultInstanceSettings","update","begin","loopBegin","changeBegin","change","changeComplete","loopComplete","complete","loop","autoplay","timelineOffset","defaultTweenSettings","duration","delay","endDelay","easing","round","validTransforms","cache","CSS","springs","minMax","val","min","max","Math","stringContains","str","indexOf","applyArguments","func","args","apply","is","arr","a","isArray","prototype","call","pth","hasOwnProperty","svg","SVGElement","inp","HTMLInputElement","dom","nodeType","fnc","und","nil","hex","rgb","hsl","col","parseEasingParameters","string","match","exec","parseFloat","spring","mass","stiffness","damping","velocity","w0","sqrt","zeta","wd","b","solver","t","progress","exp","cos","sin","getDuration","frame","elapsed","rest","steps","ceil","bezier","kSplineTableSize","kSampleStepSize","A","aA1","aA2","B","C","calcBezier","aT","getSlope","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","i","abs","newtonRaphsonIterate","aGuessT","currentSlope","mY1","mY2","sampleValues","Float32Array","getTForX","intervalStart","currentSample","lastSample","dist","guessForT","initialSlope","penner","eases","linear","functionEasings","Sine","PI","Expo","pow","Circ","Back","Bounce","pow2","Elastic","amplitude","period","asin","baseEasings","forEach","easeIn","parseEasings","ease","selectString","nodes","querySelectorAll","filterArray","callback","len","thisArg","arguments","result","flattenArray","concat","toArray","o","NodeList","HTMLCollection","arrayContains","some","cloneObject","clone","replaceObjectProps","o1","o2","mergeObjects","rgbToRgba","rgbValue","hexToRgba","hexValue","rgx","m","g","hslToRgba","hslValue","s","l","hue2rgb","q","colorToRgb","getUnit","getTransformUnit","propName","getFunctionValue","animatable","total","prop","convertPxToUnit","unit","valueUnit","tempEl","createElement","tagName","parentEl","parentNode","body","appendChild","factor","offsetWidth","removeChild","convertedUnit","getCSSValue","uppercasePropName","getComputedStyle","getPropertyValue","getAnimationType","getElementTransforms","transform","reg","transforms","getTransformValue","defaultVal","list","getOriginalTargetValue","getRelativeValue","to","operator","u","validateValue","originalUnit","unitLess","substr","getDistance","p1","p2","getCircleLength","getRectLength","getLineLength","getPolylineLength","points","totalLength","previousPos","numberOfItems","currentPos","getPolygonLength","getTotalLength","setDashoffset","pathLength","getParentSvgEl","getParentSvg","pathEl","svgData","parentSvgEl","rect","getBoundingClientRect","viewBoxAttr","w","vW","vH","getPath","percent","property","getPathProgress","isPathTargetInsideSVG","point","offset","getPointAtLength","p0","scaleX","scaleY","atan2","decomposeValue","original","numbers","Number","strings","parseTargets","targets","targetsArray","item","pos","self","getAnimatables","parsed","normalizePropertyTweens","tweenSettings","settings","isFromTo","propArray","v","k","flattenKeyframes","keyframes","propertyNames","properties","getProperties","tweens","normalizeTweenValues","tween","normalizeTweens","previousTween","tweenValue","toUnit","originalValue","previousValue","fromUnit","isPath","isColor","setProgressValue","css","attribute","object","manual","last","setTargetsValue","animatables","animType","createAnimation","lastTween","getAnimations","getInstanceTimings","animations","animLength","getTlOffset","anim","timings","instanceID","createNewInstance","instanceSettings","children","activeInstances","engine","raf","play","isDocumentHidden","anime","suspendWhenDocumentHidden","requestAnimationFrame","step","activeInstancesLength","activeInstance","paused","tick","splice","handleVisibilityChange","cancelAnimationFrame","instance","_onDocumentVisibility","addEventListener","hidden","startTime","lastTime","now","childrenLength","makePromise","promise","_resolve","finished","toggleInstanceDirection","reversed","child","adjustTime","time","resetTime","currentTime","speed","seekChild","seek","syncInstanceChildren","reversePlayback","i$1","setAnimationsProgress","insTime","animationsLength","tweenLength","eased","isNaN","toNumbersLength","n","toNumber","fromNumber","stringsLength","n$1","currentValue","setCallback","cb","passThrough","countIteration","remaining","setInstanceProgress","engineTime","insDuration","insDelay","insEndDelay","began","loopBegan","changeBegan","changeCompleted","completed","reset","pause","reverse","restart","removeTargetsFromInstance","removeTargetsFromAnimations","c","childAnimations","removeTargetsFromActiveInstances","stagger","grid","axis","fromIndex","fromFirst","fromCenter","fromLast","isRange","val1","val2","values","maxValue","fromX","fromY","floor","toX","toY","distanceX","distanceY","spacing","timeline","tl","instanceParams","tlIndex","ins","insParams","tlDuration","version","running","convertPx","random","toastCss","VuiToastStyle0","Toast","MAX_TOASTS","toastRefs","heights","toastTimeouts","remainingDurations","handleMouseEnter","expanded","updateToastRegionHeight","timeout","toast","toasts","find","Date","clearTimeout","handleMouseLeave","removeToast","show","substring","newToast","dismissible","isNew","oldestToast","offsetHeight","dismissToast","delete","removing","isTopPosition","exitOffset","ANIMATION_CONFIG","defaultOffset","exit","translateY","filter","dismiss","calculateExpandedOffset","animateToast","toastsBefore","stackedOffset","expandedOffset","baseScale","translateZ","entranceOffset","enter","scale","toastRegionRef","visibleToasts","totalHeight","lastToastHeight","stackOffset","componentDidRender","currentHeight","storedHeight","ref","onMouseEnter","onMouseLeave","stacked","zIndex","title","opacity","userMenuCss","VuiUserMenuStyle0","UserMenu","handleMenuAction","menuAction","slot"],"sources":["src/components/i18n/i18n-provider.tsx","src/components/auth/auth-alt-card.css?tag=vui-auth-alt-card&encapsulation=shadow","src/components/auth/auth-alt-card.tsx","src/components/auth/auth-card.css?tag=vui-auth-card&encapsulation=shadow","src/components/auth/auth-card.tsx","src/components/auth/auth-footer.css?tag=vui-auth-footer&encapsulation=shadow","src/components/auth/auth-footer.tsx","src/utils/validation.ts","src/utils/toJSON.ts","src/components/auth/auth-form.css?tag=vui-auth-form&encapsulation=shadow","src/components/auth/auth-form.tsx","src/components/auth/auth-header.css?tag=vui-auth-header&encapsulation=shadow","src/components/auth/auth-header.tsx","src/components/brand/brand.css?tag=vui-brand&encapsulation=shadow","src/components/brand/brand.tsx","src/components/button/button.css?tag=vui-button&encapsulation=shadow","src/components/button/button.tsx","src/components/card/card.css?tag=vui-card&encapsulation=shadow","src/components/card/card.tsx","src/components/card/card-content.css?tag=vui-card-content&encapsulation=shadow","src/components/card/card-content.tsx","src/components/card/card-description.css?tag=vui-card-description&encapsulation=shadow","src/components/card/card-description.tsx","src/components/card/card-footer.css?tag=vui-card-footer&encapsulation=shadow","src/components/card/card-footer.tsx","src/components/card/card-header.css?tag=vui-card-header&encapsulation=shadow","src/components/card/card-header.tsx","src/components/card/card-title.css?tag=vui-card-title&encapsulation=shadow","src/components/card/card-title.tsx","src/components/divider/divider.css?tag=vui-divider&encapsulation=shadow","src/components/divider/divider.tsx","src/components/dropdown-menu/dropdown-menu.css?tag=vui-dropdown-menu&encapsulation=shadow","src/components/dropdown-menu/dropdown-menu.tsx","src/components/dropdown-menu/dropdown-menu-content.css?tag=vui-dropdown-menu-content&encapsulation=shadow","src/components/dropdown-menu/dropdown-menu-content.tsx","src/components/dropdown-menu/dropdown-menu-item.css?tag=vui-dropdown-menu-item&encapsulation=shadow","src/components/dropdown-menu/dropdown-menu-item.tsx","src/components/dropdown-menu/dropdown-menu-separator.css?tag=vui-dropdown-menu-separator&encapsulation=shadow","src/components/dropdown-menu/dropdown-menu-separator.tsx","src/components/dropdown-menu/dropdown-menu-trigger.css?tag=vui-dropdown-menu-trigger&encapsulation=shadow","src/components/dropdown-menu/dropdown-menu-trigger.tsx","src/components/form/error-message.css?tag=vui-error-message&encapsulation=shadow","src/components/form/error-message.tsx","src/components/flex/flex.css?tag=vui-flex&encapsulation=shadow","src/components/flex/flex.tsx","src/components/form/form-input.css?tag=vui-form-input&encapsulation=shadow","src/components/form/form-input.tsx","src/components/i18n/i18n.tsx","src/components/icon/icon.css?tag=vui-icon&encapsulation=shadow","src/components/icon/icon.tsx","src/components/link/link.css?tag=vui-link&encapsulation=shadow","src/components/link/link.tsx","src/icons/Icons.tsx","src/components/logo/logo.css?tag=vui-logo&encapsulation=shadow","src/components/logo/logo.tsx","src/elements/otp/otp.css?tag=vui-otp&encapsulation=shadow","src/elements/otp/otp.tsx","src/components/placeholder/placeholder.css?tag=vui-placeholder&encapsulation=shadow","src/components/placeholder/placeholder.tsx","src/elements/request/request.css?tag=vui-request&encapsulation=shadow","src/elements/request/request.tsx","src/components/spinner/spinner.css?tag=vui-spinner&encapsulation=shadow","src/components/spinner/spinner.tsx","src/components/textbox/textbox.css?tag=vui-textbox&encapsulation=shadow","src/components/textbox/textbox.tsx","src/elements/theme-toggle/theme-toggle.css?tag=vui-theme-toggle&encapsulation=shadow","src/elements/theme-toggle/theme-toggle.tsx","../../node_modules/.pnpm/animejs@3.2.2/node_modules/animejs/lib/anime.es.js","src/elements/toast/toast.css?tag=vui-toast&encapsulation=shadow","src/elements/toast/toast.tsx","src/elements/user-menu/user-menu.css?tag=vui-user-menu&encapsulation=shadow","src/elements/user-menu/user-menu.tsx"],"sourcesContent":["import { Component, Element, Event, EventEmitter, Prop, State, Watch, h } from '@stencil/core'\n\nexport interface Translation {\n  [key: string]: string | Translation\n}\n\ninterface HTMLVuiI18nProviderElement extends HTMLElement {\n  __provider?: I18nProvider\n}\n\n@Component({\n  tag: 'vui-i18n-provider',\n  shadow: false,\n})\nexport class I18nProvider {\n  @Element() el!: HTMLVuiI18nProviderElement\n\n  @Prop() locale?: string\n  @Prop() translations?: Translation | string\n  @Prop() loadTranslations?: (locale: string) => Promise<Translation>\n  @Prop() translationsPath?: string = '/locales/{locale}.json'\n  @Prop() fallbackLocale?: string\n  @Prop() supportedLocales?: string[] | string\n\n  @State() private currentTranslations: Record<string, string> = {}\n  @State() private isLoading: boolean = false\n\n  @Event() translationsLoaded: EventEmitter<void>\n\n  private readyPromise: Promise<void>\n  private resolveReady: () => void\n  private translationCache = new Map<string, Record<string, string>>()\n\n  constructor() {\n    this.readyPromise = new Promise(resolve => {\n      this.resolveReady = resolve\n    })\n  }\n\n  private getSupportedLocales(): string[] {\n    if (!this.supportedLocales) {\n      return []\n    }\n\n    if (typeof this.supportedLocales === 'string') {\n      return this.supportedLocales.split(',').map(locale => locale.trim())\n    }\n\n    return this.supportedLocales\n  }\n\n  private getPreferredLocale(): string {\n    const supported = this.getSupportedLocales()\n    console.log('supported', supported)\n    if (this.locale) {\n      if (!supported.length || supported.includes(this.locale)) {\n        return this.locale\n      }\n      console.warn(`Locale \"${this.locale}\" is not supported. Falling back to \"${this.fallbackLocale || 'en'}\"`)\n    }\n\n    const htmlLang = document.documentElement.lang\n    if (htmlLang) {\n      if (!supported.length || supported.includes(htmlLang)) {\n        return htmlLang\n      }\n    }\n\n    const browserLocales = navigator.languages || [navigator.language]\n    for (const browserLocale of browserLocales) {\n      if (!supported.length || supported.includes(browserLocale)) {\n        return browserLocale\n      }\n    }\n\n    return this.fallbackLocale || 'en'\n  }\n\n  @Watch('locale')\n  async handleLocaleChange() {\n    await this.loadCurrentTranslations()\n  }\n\n  async componentWillLoad() {\n    this.el.__provider = this\n    if (!this.locale) {\n      this.locale = this.getPreferredLocale()\n    }\n    await this.loadCurrentTranslations()\n    this.resolveReady()\n  }\n\n  disconnectedCallback() {\n    delete this.el.__provider\n  }\n\n  private async loadCurrentTranslations() {\n    this.isLoading = true\n\n    try {\n      const cached = this.translationCache.get(this.locale)\n      if (cached) {\n        this.currentTranslations = cached\n        this.translationsLoaded.emit()\n        return\n      }\n\n      let rawTranslations: Translation = {}\n\n      try {\n        if (this.translations) {\n          rawTranslations = typeof this.translations === 'string' ? JSON.parse(this.translations) : this.translations\n        } else if (this.loadTranslations) {\n          rawTranslations = await this.loadTranslations(this.locale)\n        } else if (this.translationsPath) {\n          const path = this.translationsPath.replace('{locale}', this.locale)\n          const response = await fetch(path)\n          if (!response.ok) {\n            throw new Error(`Failed to fetch translations: ${response.statusText}`)\n          }\n          rawTranslations = await response.json()\n        }\n      } catch (error) {\n        if (this.fallbackLocale && this.fallbackLocale !== this.locale) {\n          console.warn(`Failed to load translations for ${this.locale}, falling back to ${this.fallbackLocale}`)\n          if (this.translations) {\n            rawTranslations = typeof this.translations === 'string' ? JSON.parse(this.translations) : this.translations\n          } else if (this.loadTranslations) {\n            rawTranslations = await this.loadTranslations(this.fallbackLocale)\n          } else if (this.translationsPath) {\n            const path = this.translationsPath.replace('{locale}', this.fallbackLocale)\n            const response = await fetch(path)\n            if (!response.ok) {\n              throw new Error(`Failed to fetch fallback translations: ${response.statusText}`)\n            }\n            rawTranslations = await response.json()\n          }\n        } else {\n          throw error\n        }\n      }\n\n      const flattened = this.flattenTranslations(rawTranslations)\n\n      this.translationCache.set(this.locale, flattened)\n\n      this.currentTranslations = flattened\n      this.translationsLoaded.emit()\n    } catch (error) {\n      console.error('Failed to load translations:', error)\n      this.currentTranslations = {}\n    } finally {\n      this.isLoading = false\n    }\n  }\n\n  private flattenTranslations(obj: Record<string, any>, prefix = ''): Record<string, string> {\n    return Object.entries(obj).reduce(\n      (acc, [key, value]) => {\n        const newKey = prefix ? `${prefix}.${key}` : key\n\n        if (typeof value === 'object' && value !== null) {\n          Object.assign(acc, this.flattenTranslations(value, newKey))\n        } else {\n          acc[newKey] = value.toString()\n        }\n\n        return acc\n      },\n      {} as Record<string, string>\n    )\n  }\n\n  private translate(input: string, defaultParams?: Record<string, string>): string {\n    if (!input?.startsWith('$')) {\n      return input\n    }\n\n    const withoutPrefix = input.slice(1)\n\n    const [translationKey, ...paramParts] = withoutPrefix.split('|')\n\n    const inlineParams = paramParts.reduce(\n      (acc, param) => {\n        const [key, value] = param.split(':')\n        acc[key] = value\n        return acc\n      },\n      {} as Record<string, string>\n    )\n\n    const params = { ...defaultParams, ...inlineParams }\n\n    const translation = this.currentTranslations[translationKey] || `[${translationKey}]`\n\n    if (Object.keys(params).length > 0) {\n      return translation.replace(/\\{(\\w+)\\}/g, (_, key) => params[key] || `{${key}}`)\n    }\n\n    return translation\n  }\n\n  static getClosestProvider(element: HTMLElement): I18nProvider | null {\n    const providerElement = element.closest('vui-i18n-provider') as HTMLVuiI18nProviderElement\n    if (providerElement?.__provider) {\n      return providerElement.__provider\n    }\n\n    let currentElement: Element | null = element\n    while (currentElement) {\n      const shadowRoot = currentElement.getRootNode() as ShadowRoot\n      if (shadowRoot instanceof ShadowRoot) {\n        const hostProvider = (shadowRoot.host.closest('vui-i18n-provider') as HTMLVuiI18nProviderElement)?.__provider\n        if (hostProvider) {\n          return hostProvider\n        }\n        currentElement = shadowRoot.host\n      } else {\n        const lightProvider = (currentElement.closest('vui-i18n-provider') as HTMLVuiI18nProviderElement)?.__provider\n        return lightProvider || null\n      }\n    }\n\n    return null\n  }\n\n  public getTranslation(input: string, params?: Record<string, string>): string {\n    return this.translate(input, params)\n  }\n\n  public async waitForTranslations(): Promise<void> {\n    return this.readyPromise\n  }\n\n  render() {\n    if (this.isLoading) {\n      return <slot name=\"loader\"></slot>\n    }\n\n    return <slot />\n  }\n}\n","::part(header) {\n  padding-bottom: 0;\n}\n","import { Component, Element, Prop, h } from '@stencil/core'\n\nimport { I18nProvider } from '../i18n/i18n-provider'\n\n@Component({\n  tag: 'vui-auth-alt-card',\n  styleUrl: 'auth-alt-card.css',\n  shadow: true,\n})\nexport class AuthAltCard {\n  @Element() el!: HTMLElement\n\n  @Prop() heading: string\n  @Prop() description: string\n  @Prop() prompt: string\n  @Prop() action: string\n  @Prop() submitLabel: string\n  @Prop() variant?: 'default' | 'inset' = 'inset'\n  @Prop() elevation?: 'none' | 'sm' | 'md' | 'lg' | 'xl' = 'none'\n\n  private translate(key: string, params?: Record<string, string>): string {\n    const provider = I18nProvider.getClosestProvider(this.el)\n    if (!provider) {\n      return key\n    }\n    return provider.getTranslation(key, params)\n  }\n\n  async componentWillLoad() {\n    await I18nProvider.getClosestProvider(this.el)?.waitForTranslations()\n  }\n\n  render() {\n    return (\n      <vui-card elevation={this.elevation}>\n        <slot name=\"logo\"></slot>\n        <slot name=\"header\">\n          <vui-auth-header\n            class=\"header\"\n            heading={this.translate(this.heading)}\n            description={this.translate(this.description)}\n            size=\"xl\"\n            align=\"start\"\n          ></vui-auth-header>\n        </slot>\n        <slot name=\"providers\"></slot>\n        <slot></slot>\n        <slot name=\"footer\">\n          <vui-auth-footer\n            prompt={this.translate(this.prompt)}\n            action={this.translate(this.action)}\n            variant={this.variant}\n          ></vui-auth-footer>\n        </slot>\n      </vui-card>\n    )\n  }\n}\n",null,"import { Component, Element, Prop, h } from '@stencil/core'\n\nimport { I18nProvider } from '../i18n/i18n-provider'\n\n@Component({\n  tag: 'vui-auth-card',\n  styleUrl: 'auth-card.css',\n  shadow: true,\n})\nexport class AuthCard {\n  @Element() el!: HTMLElement\n\n  @Prop() heading: string\n  @Prop() description: string\n  @Prop() prompt: string\n  @Prop() action: string\n  @Prop() submitLabel: string\n  @Prop() variant?: 'default' | 'inset' = 'inset'\n  @Prop() elevation?: 'none' | 'sm' | 'md' | 'lg' | 'xl' = 'none'\n  @Prop() brandLabel?: string\n  @Prop() brandLogo?: string\n\n  private translate(key: string, params?: Record<string, string>): string {\n    const provider = I18nProvider.getClosestProvider(this.el)\n    if (!provider) {\n      return key\n    }\n    return provider.getTranslation(key, params)\n  }\n\n  async componentWillLoad() {\n    await I18nProvider.getClosestProvider(this.el)?.waitForTranslations()\n  }\n\n  render() {\n    return (\n      <vui-card elevation={this.elevation}>\n        <slot name=\"logo\"></slot>\n        <slot name=\"header\">\n          <vui-auth-header\n            heading={this.translate(this.heading)}\n            description={this.translate(this.description)}\n          ></vui-auth-header>\n        </slot>\n        <vui-card-content>\n          <slot name=\"providers\"></slot>\n          <slot></slot>\n        </vui-card-content>\n        <slot name=\"footer\">\n          <vui-auth-footer\n            prompt={this.translate(this.prompt)}\n            action={this.translate(this.action)}\n            variant={this.variant}\n            brand-label={this.brandLabel}\n            brand-logo={this.brandLogo}\n          ></vui-auth-footer>\n        </slot>\n      </vui-card>\n    )\n  }\n}\n",":host {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  /* padding: 0.5rem; */\n  font-size: 0.875rem;\n  color: hsl(var(--muted-foreground));\n  width: 100%;\n}\n\n/* if .footer-content has content, then apply padding to .footer-content */\n/* .footer-content:has(slot) {\n  padding: 1.5rem;\n  padding-top: 0;\n} */\n\n.prompt {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  padding: 0.5rem;\n  color: hsl(var(--muted-foreground));\n}\n\n/* .footer {\n  padding: 1.5rem;\n  padding-top: 0;\n  text-align: center;\n} */\n\n.brand {\n  margin-block: 8px 14px;\n}\n","import { Component, Element, Event, EventEmitter, Prop, h } from '@stencil/core'\n\nimport { I18nProvider } from '../i18n/i18n-provider'\n\n@Component({\n  tag: 'vui-auth-footer',\n  styleUrl: 'auth-footer.css',\n  shadow: true,\n})\nexport class AuthFooter {\n  @Element() el!: HTMLElement\n\n  @Prop() showDivider?: boolean = true\n  @Prop() prompt?: string\n  @Prop() action?: string\n  @Prop() variant?: 'default' | 'inset' = 'default'\n  @Prop() brandLabel?: string\n  @Prop() brandLogo?: string\n  @Prop() showBrand?: boolean = true\n\n  @Event() actionClick: EventEmitter\n\n  private translate(key: string, params?: Record<string, string>): string {\n    const provider = I18nProvider.getClosestProvider(this.el)\n    if (!provider) {\n      return key\n    }\n    return provider.getTranslation(key, params)\n  }\n\n  handleActionClick = () => {\n    this.actionClick.emit()\n  }\n\n  async componentWillLoad() {\n    await I18nProvider.getClosestProvider(this.el)?.waitForTranslations()\n  }\n\n  render() {\n    return (\n      <vui-card-footer part=\"footer\" variant={this.variant}>\n        <div class=\"footer-content\">\n          <slot></slot>\n        </div>\n        {this.prompt && (\n          <div class=\"prompt\">\n            <span>{this.translate(this.prompt)}</span>\n            <vui-button variant=\"outline\" size=\"sm\" onClick={this.handleActionClick}>\n              {this.translate(this.action)}\n            </vui-button>\n          </div>\n        )}\n        {this.showBrand && (\n          <div>\n            {this.showDivider && <vui-divider orientation=\"horizontal\"></vui-divider>}\n            <vui-brand\n              class=\"brand\"\n              label={this.translate('$brand.label', { default: this.brandLabel })}\n              logo={this.translate('$brand.logo', { default: this.brandLogo })}\n            ></vui-brand>\n          </div>\n        )}\n      </vui-card-footer>\n    )\n  }\n}\n","import { I18nProvider } from '../components/i18n/i18n-provider'\n\nexport interface ValidationRule {\n  message: string\n  validate: (value: any) => boolean\n}\n\nexport interface PasswordValidationOptions {\n  minLength?: number\n  maxLength?: number\n  requireUppercase?: boolean\n  requireLowercase?: boolean\n  requireNumbers?: boolean\n  requireSpecialChars?: boolean\n}\n\nexport interface EmailValidationOptions {\n  allowedDomains?: string[]\n  blockedDomains?: string[]\n}\n\nexport const createValidationRules = (element: HTMLElement) => {\n  const getTranslation = (key: string, params?: Record<string, string>): string => {\n    const provider = I18nProvider.getClosestProvider(element)\n    if (!provider) {\n      return key\n    }\n    return provider.getTranslation(key, params)\n  }\n\n  const ValidationRules = {\n    required: (fieldName = ''): ValidationRule => ({\n      message: getTranslation('$validation.required', { fieldName }),\n      validate: (value: any) => {\n        if (value === null || value === undefined) return false\n        if (typeof value === 'string') return value.trim().length > 0\n        return true\n      },\n    }),\n\n    email: (message = ''): ValidationRule => ({\n      message: message || getTranslation('$validation.email.invalid'),\n      validate: (value: string) => {\n        return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value)\n      },\n    }),\n\n    allowedDomains: (domains: string[], message?: string): ValidationRule => ({\n      message: message || getTranslation('$validation.email.allowedDomains', { domains: domains.join(', ') }),\n      validate: (value: string) => {\n        const domain = value.split('@')[1]?.toLowerCase()\n        return domain ? domains.includes(domain) : false\n      },\n    }),\n\n    blockedDomains: (domains: string[], message?: string): ValidationRule => ({\n      message: message || getTranslation('$validation.email.blockedDomains', { domains: domains.join(', ') }),\n      validate: (value: string) => {\n        const domain = value.split('@')[1]?.toLowerCase()\n        return domain ? !domains.includes(domain) : true\n      },\n    }),\n\n    minLength: (length: number, message?: string): ValidationRule => ({\n      message: message || getTranslation('$validation.password.minLength', { length: length.toString() }),\n      validate: (value: string) => value.length >= length,\n    }),\n\n    maxLength: (length: number, message?: string): ValidationRule => ({\n      message: message || getTranslation('$validation.password.maxLength', { length: length.toString() }),\n      validate: (value: string) => value.length <= length,\n    }),\n\n    hasUppercase: (message = ''): ValidationRule => ({\n      message: message || getTranslation('$validation.password.uppercase'),\n      validate: (value: string) => /[A-Z]/.test(value),\n    }),\n\n    hasLowercase: (message = ''): ValidationRule => ({\n      message: message || getTranslation('$validation.password.lowercase'),\n      validate: (value: string) => /[a-z]/.test(value),\n    }),\n\n    hasNumber: (message = ''): ValidationRule => ({\n      message: message || getTranslation('$validation.password.number'),\n      validate: (value: string) => /\\d/.test(value),\n    }),\n\n    hasSpecialChar: (message = ''): ValidationRule => ({\n      message: message || getTranslation('$validation.password.specialChar'),\n      validate: (value: string) => /[!@#$%^&*(),.?\":{}|<>]/.test(value),\n    }),\n\n    createNameRules: (fieldName: string): ValidationRule[] => {\n      return [\n        ValidationRules.required(fieldName),\n        {\n          message: getTranslation('$validation.required', { fieldName }),\n          validate: (value: string) => /^[a-zA-Z\\s-']+$/.test(value.trim()),\n        },\n      ]\n    },\n\n    createPhoneRules: (fieldName: string): ValidationRule[] => {\n      return [\n        ValidationRules.required(fieldName),\n        {\n          message: getTranslation('$validation.required', { fieldName }),\n          validate: (value: string) => /^\\+?[\\d\\s-()]+$/.test(value.trim()),\n        },\n      ]\n    },\n\n    // Helper functions\n    createPasswordRules: (fieldName: string, options: PasswordValidationOptions = {}): ValidationRule[] => {\n      const rules: ValidationRule[] = [ValidationRules.required(fieldName)]\n\n      if (options.minLength) {\n        rules.push(ValidationRules.minLength(options.minLength))\n      }\n      if (options.maxLength) {\n        rules.push(ValidationRules.maxLength(options.maxLength))\n      }\n      if (options.requireUppercase) {\n        rules.push(ValidationRules.hasUppercase())\n      }\n      if (options.requireLowercase) {\n        rules.push(ValidationRules.hasLowercase())\n      }\n      if (options.requireNumbers) {\n        rules.push(ValidationRules.hasNumber())\n      }\n      if (options.requireSpecialChars) {\n        rules.push(ValidationRules.hasSpecialChar())\n      }\n\n      return rules\n    },\n\n    createEmailRules: (fieldName: string, options?: EmailValidationOptions): ValidationRule[] => {\n      const rules: ValidationRule[] = [\n        ValidationRules.required(fieldName),\n        ValidationRules.email(getTranslation('$validation.email.invalid')),\n      ]\n\n      if (options?.allowedDomains?.length) {\n        rules.push(ValidationRules.allowedDomains(options.allowedDomains))\n      }\n      if (options?.blockedDomains?.length) {\n        rules.push(ValidationRules.blockedDomains(options.blockedDomains))\n      }\n\n      return rules\n    },\n  }\n\n  return ValidationRules\n}\n","export const toJSON = <T>(obj: unknown, defaultValue: T = null): T => {\n  try {\n    return JSON.parse(obj as string)\n  } catch (e) {\n    console.error('Error parsing JSON:', e)\n    return defaultValue\n  }\n}\n",":host {\n  width: 100%;\n  display: grid;\n  gap: 0.75rem;\n  /* font-family: var(--font-family); */\n}\n\n[part='logo-container'] {\n  display: flex;\n  justify-content: center;\n  margin-bottom: 1rem;\n}\n\nform {\n  display: grid;\n  gap: 0.5rem;\n}\n\n.form-field {\n  position: relative;\n  flex: 1;\n  min-width: 0;\n  /* width: 100%; */\n}\n\n.password-field {\n  position: relative;\n}\n\n.visibility-toggle {\n  position: absolute;\n  inset-inline-end: 1px;\n  top: 1px;\n}\n\n.visibility-toggle::part(button) {\n  border-start-start-radius: 0px;\n  border-end-start-radius: 0px;\n}\n\n.forgot-password {\n  text-align: center;\n}\n\n.submit-button {\n  width: 100%;\n  margin-top: 1rem;\n}\n\n.signup-prompt {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  padding: 0.5rem;\n  font-size: 0.875rem;\n  color: hsl(var(--muted-foreground));\n}\n","import { Component, Element, Event, EventEmitter, Prop, State, h } from '@stencil/core'\nimport {\n  EmailValidationOptions,\n  PasswordValidationOptions,\n  ValidationRule,\n  createValidationRules,\n} from '../../utils/validation'\n\nimport { toJSON } from '../../utils/toJSON'\nimport { I18nProvider } from '../i18n/i18n-provider'\nimport { SignUpFormData } from './types'\n\nexport type DisplayElement = 'name' | 'email' | 'phone' | 'password' | 'forgotPassword'\n\n@Component({\n  tag: 'vui-auth-form',\n  styleUrl: 'auth-form.css',\n  shadow: true,\n})\nexport class AuthForm {\n  @Element() el!: HTMLElement\n\n  private validationRules = createValidationRules(this.el)\n\n  @State() private passwordVisible: boolean = false\n  @State() private firstNameError: string = ''\n  @State() private lastNameError: string = ''\n  @State() private emailError: string = ''\n  @State() private phoneError: string = ''\n  @State() private passwordError: string = ''\n  @State() private isSubmitted: boolean = false\n\n  private _firstNameLabel = 'First name'\n  private _lastNameLabel = 'Last name'\n  private _emailLabel = 'Email'\n  private _phoneLabel = 'Phone'\n  private _passwordLabel = 'Password'\n\n  @Prop() action: 'submit' | 'signup' | 'signin' | 'forgotPassword' | 'resetPassword' | 'resetLink' | 'code' = 'submit'\n  @Prop() firstnameLabel = this._firstNameLabel\n  @Prop() firstnamePlaceholder = this._firstNameLabel\n  @Prop() lastnameLabel = this._lastNameLabel\n  @Prop() lastnamePlaceholder = this._lastNameLabel\n  @Prop() emailLabel = this._emailLabel\n  @Prop() emailPlaceholder = this._emailLabel\n  @Prop() phoneLabel = this._phoneLabel\n  @Prop() phonePlaceholder = this._phoneLabel\n  @Prop() passwordLabel = this._passwordLabel\n  @Prop() passwordPlaceholder = this._passwordLabel\n  @Prop() submitLabel = 'Submit'\n  @Prop() forgotPasswordLabel = 'Forgot password?'\n  @Prop() passwordShowLabel = 'Show password'\n  @Prop() passwordHideLabel = 'Hide password'\n\n  @Prop({ mutable: true }) firstName?: string = ''\n  @Prop({ mutable: true }) lastName?: string = ''\n  @Prop({ mutable: true }) email?: string = ''\n  @Prop({ mutable: true }) phone?: string = ''\n  @Prop({ mutable: true }) password?: string = ''\n\n  @Prop({ reflect: true, mutable: true }) display?: DisplayElement[] | string = []\n\n  @Prop() styles?: {\n    link?: { [key: string]: string | number }\n  }\n\n  @Event() formSubmit: EventEmitter<SignUpFormData>\n  @Event() forgotPassword: EventEmitter<void>\n\n  private togglePasswordVisibility = () => {\n    this.passwordVisible = !this.passwordVisible\n  }\n\n  /** Password validation options */\n  @Prop() passwordValidation?: PasswordValidationOptions | string = {\n    minLength: 8,\n    requireUppercase: false,\n    requireLowercase: false,\n    requireNumbers: false,\n    requireSpecialChars: false,\n  }\n\n  /** Email validation options */\n  @Prop() emailValidation?: EmailValidationOptions | string\n\n  /** Controls the loading state of the component */\n  @Prop() isLoading?: boolean\n\n  private parsedEmailValidation(): EmailValidationOptions {\n    try {\n      if (typeof this.emailValidation === 'string') {\n        return JSON.parse(this.emailValidation)\n      }\n      return this.emailValidation || {}\n    } catch (error) {\n      return {}\n    }\n  }\n\n  private get firstNameRules(): ValidationRule[] {\n    return this.validationRules.createNameRules(\n      this.translate('$form.firstName.label', { default: this.firstnameLabel })\n    )\n  }\n\n  private get lastNameRules(): ValidationRule[] {\n    return this.validationRules.createNameRules(this.translate('$form.lastName.label', { default: this.lastnameLabel }))\n  }\n\n  private get emailRules(): ValidationRule[] {\n    return [\n      ...this.validationRules.createEmailRules(\n        this.translate('$form.email.label', { default: this.emailLabel }),\n        this.parsedEmailValidation()\n      ),\n    ]\n  }\n\n  private get phoneRules(): ValidationRule[] {\n    return this.validationRules.createPhoneRules(this.translate('$form.phone.label', { default: this.phoneLabel }))\n  }\n\n  private parsedPasswordValidation(): PasswordValidationOptions {\n    try {\n      if (typeof this.passwordValidation === 'string') {\n        return JSON.parse(this.passwordValidation)\n      }\n      return this.passwordValidation || {}\n    } catch (error) {\n      return {}\n    }\n  }\n\n  private get passwordRules(): ValidationRule[] {\n    return [\n      ...this.validationRules.createPasswordRules(\n        this.translate('$form.password.label', { default: this.passwordLabel }),\n        this.parsedPasswordValidation()\n      ),\n    ]\n  }\n\n  private validateField(value: string, rules: ValidationRule[]): string {\n    for (const rule of rules) {\n      if (!rule.validate(value)) {\n        return rule.message\n      }\n    }\n    return ''\n  }\n\n  private handleSubmit = (e: Event) => {\n    e.preventDefault()\n    this.isSubmitted = true\n\n    if (this.display.includes('name')) {\n      this.firstNameError = this.validateField(this.firstName, this.firstNameRules)\n      this.lastNameError = this.validateField(this.lastName, this.lastNameRules)\n    }\n    if (this.display.includes('email')) {\n      this.emailError = this.validateField(this.email, this.emailRules)\n    }\n    if (this.display.includes('phone')) {\n      this.phoneError = this.validateField(this.phone, this.phoneRules)\n    }\n    if (this.display.includes('password')) {\n      this.passwordError = this.validateField(this.password, this.passwordRules)\n    }\n\n    if (!this.firstNameError && !this.lastNameError && !this.emailError && !this.phoneError && !this.passwordError) {\n      this.formSubmit.emit({\n        firstName: this.firstName,\n        lastName: this.lastName,\n        email: this.email,\n        password: this.password,\n      })\n    }\n  }\n\n  private handleInput = (field: 'firstName' | 'lastName' | 'email' | 'phone' | 'password') => (e: Event) => {\n    const input = e.target as HTMLInputElement\n    this[field] = input.value\n\n    if (this.isSubmitted) {\n      switch (field) {\n        case 'firstName':\n          this.firstNameError = this.validateField(this.firstName, this.firstNameRules)\n          break\n        case 'lastName':\n          this.lastNameError = this.validateField(this.lastName, this.lastNameRules)\n          break\n        case 'email':\n          this.emailError = this.validateField(this.email, this.emailRules)\n          break\n        case 'phone':\n          this.phoneError = this.validateField(this.phone, this.phoneRules)\n          break\n        case 'password':\n          this.passwordError = this.validateField(this.password, this.passwordRules)\n          break\n      }\n    }\n  }\n\n  private handleForgotPassword = () => {\n    this.forgotPassword.emit()\n  }\n\n  private translate(key: string, params?: Record<string, string>): string {\n    const provider = I18nProvider.getClosestProvider(this.el)\n    if (!provider) {\n      return key\n    }\n\n    return provider.getTranslation(key, params)\n  }\n\n  async componentWillLoad() {\n    if (typeof this.display === 'string') {\n      if (this.display.startsWith('[')) {\n        // if starts with '[', it's a JSON string\n        this.display = toJSON<DisplayElement[]>(this.display, [])\n      } else {\n        // if has a comma, it's a comma separated string\n        this.display = this.display.split(',') as DisplayElement[]\n      }\n    }\n\n    // Wait for provider to be ready\n    await I18nProvider.getClosestProvider(this.el)?.waitForTranslations()\n  }\n\n  private getSubmitTranslationKey(): string {\n    switch (this.action) {\n      case 'signup':\n        return '$form.submit.signup'\n      case 'signin':\n        return '$form.submit.signin'\n      case 'code':\n        return '$form.submit.code'\n      case 'resetLink':\n        return '$form.submit.sendResetLink'\n      case 'resetPassword':\n        return '$form.submit.resetPassword'\n      default:\n        return '$form.submit.label'\n    }\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        {this.display.includes('name') && (\n          <vui-flex gap={2} direction=\"row\" items=\"stretch\" breakpointDirection=\"column\" breakpoint=\"300px\">\n            <vui-form-input\n              label={this.translate('$form.firstName.label', { default: this.firstnameLabel })}\n              htmlFor=\"first-name\"\n              errorMessage={this.firstNameError}\n            >\n              <vui-textbox\n                id=\"first-name\"\n                name=\"firstName\"\n                placeholder={this.translate('$form.firstName.placeholder', { default: this.firstnamePlaceholder })}\n                autocapitalize=\"none\"\n                autocomplete=\"given-name\"\n                autocorrect=\"off\"\n                disabled={this.isLoading}\n                value={this.firstName}\n                invalid={!!this.firstNameError}\n                onInput={this.handleInput('firstName')}\n                onEnterKey={this.handleSubmit}\n              ></vui-textbox>\n            </vui-form-input>\n\n            <vui-form-input\n              label={this.translate('$form.lastName.label', { default: this.lastnameLabel })}\n              htmlFor=\"last-name\"\n              errorMessage={this.lastNameError}\n            >\n              <vui-textbox\n                id=\"last-name\"\n                name=\"lastName\"\n                placeholder={this.translate('$form.lastName.placeholder', { default: this.lastnamePlaceholder })}\n                autocomplete=\"family-name\"\n                autocorrect=\"off\"\n                disabled={this.isLoading}\n                value={this.lastName}\n                invalid={!!this.lastNameError}\n                onInput={this.handleInput('lastName')}\n                onEnterKey={this.handleSubmit}\n              ></vui-textbox>\n            </vui-form-input>\n          </vui-flex>\n        )}\n\n        {this.display.includes('email') && (\n          <vui-form-input\n            label={this.translate('$form.email.label', { default: this.emailLabel })}\n            htmlFor=\"email\"\n            errorMessage={this.emailError}\n          >\n            <vui-textbox\n              id=\"email\"\n              name=\"email\"\n              placeholder={this.translate('$form.email.placeholder', { default: this.emailPlaceholder })}\n              type=\"email\"\n              autocapitalize=\"none\"\n              autocomplete=\"email\"\n              autocorrect=\"off\"\n              disabled={this.isLoading}\n              value={this.email}\n              invalid={!!this.emailError}\n              onInput={this.handleInput('email')}\n              onEnterKey={this.handleSubmit}\n            ></vui-textbox>\n          </vui-form-input>\n        )}\n\n        {this.display.includes('phone') && (\n          <vui-form-input\n            label={this.translate('$form.phone.label', { default: this.phoneLabel })}\n            htmlFor=\"phone\"\n            errorMessage={this.phoneError}\n          >\n            <vui-textbox\n              id=\"phone\"\n              name=\"phone\"\n              placeholder={this.translate('$form.phone.placeholder', { default: this.phonePlaceholder })}\n              type=\"tel\"\n              autocapitalize=\"none\"\n              autocomplete=\"tel\"\n              autocorrect=\"off\"\n              disabled={this.isLoading}\n              value={this.phone}\n              invalid={!!this.phoneError}\n              onInput={this.handleInput('phone')}\n              onEnterKey={this.handleSubmit}\n            />\n          </vui-form-input>\n        )}\n\n        {this.display.includes('password') && (\n          <vui-form-input\n            label={this.translate('$form.password.label', { default: this.passwordLabel })}\n            htmlFor=\"password\"\n            errorMessage={this.passwordError}\n          >\n            <vui-textbox\n              id=\"password\"\n              name=\"password\"\n              placeholder={this.translate('$form.password.placeholder', { default: this.passwordPlaceholder })}\n              type={this.passwordVisible ? 'text' : 'password'}\n              autocorrect=\"off\"\n              disabled={this.isLoading}\n              value={this.password}\n              invalid={!!this.passwordError}\n              onInput={this.handleInput('password')}\n              onEnterKey={this.handleSubmit}\n            />\n            <vui-button\n              variant=\"ghost\"\n              class=\"visibility-toggle\"\n              type=\"button\"\n              disabled={this.isLoading}\n              onClick={this.togglePasswordVisibility}\n              aria-label={\n                this.passwordVisible\n                  ? this.translate('$form.password.hideLabel')\n                  : this.translate('$form.password.showLabel')\n              }\n            >\n              <vui-icon name={this.passwordVisible ? 'ic:outline-visibility' : 'ic:outline-visibility-off'} size=\"sm\" />\n            </vui-button>\n          </vui-form-input>\n        )}\n\n        {this.display.includes('forgotPassword') && (\n          <div class=\"forgot-password\">\n            <vui-link href=\"javascript:void(0)\" onClick={this.handleForgotPassword} exportparts=\"link\">\n              {this.translate('$form.forgotPassword.label', { default: this.forgotPasswordLabel })}\n            </vui-link>\n          </div>\n        )}\n\n        <vui-button type=\"submit\" class=\"submit-button\" busy={this.isLoading}>\n          {this.translate(this.getSubmitTranslationKey(), { default: this.submitLabel })}\n        </vui-button>\n      </form>\n    )\n  }\n}\n",":host {\n  text-align: start;\n}\n\n:host(.align-center) {\n  text-align: center;\n}\n\n:host(.align-start) {\n  text-align: start;\n}\n\n/* For RTL support, the browser will automatically flip 'start' to the right side when dir=\"rtl\" */\n","import { Component, Prop, h } from '@stencil/core'\n\n@Component({\n  tag: 'vui-auth-header',\n  styleUrl: 'auth-header.css',\n  shadow: true,\n})\nexport class AuthHeader {\n  @Prop() heading: string\n  @Prop() description: string\n  @Prop() size: 'sm' | 'md' | 'lg' | 'xl' = 'md'\n  @Prop() align: 'start' | 'center' | 'end' = 'center'\n\n  render() {\n    return (\n      <vui-card-header part=\"header\">\n        <vui-card-title size={this.size} align={this.align}>\n          {this.heading}\n        </vui-card-title>\n        <vui-card-description align={this.align}>{this.description}</vui-card-description>\n      </vui-card-header>\n    )\n  }\n}\n",":host {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  font-size: 0.75rem;\n  font-family: var(--font-family);\n  color: hsl(var(--muted-foreground));\n}\n\nspan {\n  display: inline-block;\n}\n\nimg {\n  display: inline-block;\n  object-fit: contain;\n}\n","import { Component, Host, Prop, h } from '@stencil/core'\n\n@Component({\n  tag: 'vui-brand',\n  styleUrl: 'brand.css',\n  shadow: true,\n})\nexport class PoweredBy {\n  @Prop() label: string = ''\n  @Prop() logo: string = ''\n\n  render() {\n    return (\n      <Host part=\"brand\">\n        <span part=\"label\">{this.label}</span>\n        {this.logo && <img src={this.logo} alt={this.label} width=\"16\" height=\"16\" />}\n      </Host>\n    )\n  }\n}\n",":host {\n  --transparent: 0 0% 100% / 0;\n  display: inline-block;\n}\n\nbutton {\n  width: 100%;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: var(--radius);\n  font-weight: 500;\n  font-size: 14px;\n  font-family: var(--font-family);\n  height: 40px;\n  padding: 0 16px;\n  background-color: hsl(var(--primary));\n  color: hsl(var(--primary-foreground));\n  border: 1px solid transparent;\n  cursor: pointer;\n  transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);\n  user-select: none;\n  box-shadow: var(--shadow);\n}\n\nbutton:hover {\n  opacity: 0.9;\n}\n\nbutton:focus-visible {\n  outline: none;\n  box-shadow:\n    0 0 0 2px hsl(var(--background)),\n    0 0 0 4px hsl(var(--ring));\n}\n\nbutton:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n/* Variants */\n:host([variant='soft']) button {\n  background-color: hsl(var(--background));\n  color: hsl(var(--foreground));\n  border-color: hsl(var(--border));\n}\n\n:host([variant='soft']) button:hover {\n  background-color: hsl(var(--background) / 0.8);\n}\n\n:host([variant='outline']) button {\n  background-color: hsl(var(--background));\n  border-color: hsl(var(--border, var(--transparent)));\n  color: hsl(var(--foreground));\n}\n\n:host([variant='outline']) button:hover {\n  background-color: hsl(var(--muted));\n}\n\n:host([variant='ghost']) button {\n  background-color: transparent;\n  color: hsl(var(--foreground));\n}\n\n:host([variant='ghost']) button:hover {\n  background-color: hsl(var(--muted));\n}\n\n:host([variant='destructive']) button {\n  background-color: hsl(var(--destructive));\n  color: hsl(var(--destructive-foreground));\n}\n\n/* Sizes */\n:host([size='icon']) button {\n  padding: 0;\n  width: 32px;\n  height: 32px;\n}\n\n:host([size='sm']) button {\n  height: 32px;\n  padding: 0 12px;\n}\n\n:host([size='lg']) button {\n  height: 48px;\n  padding: 0 20px;\n}\n\n:host([size='busy']) button {\n  pointer-events: none;\n}\n\n.content {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: inherit;\n  color: inherit;\n}\n","import { AttachInternals, Component, Event, EventEmitter, Prop, h } from '@stencil/core'\n\n@Component({\n  tag: 'vui-button',\n  styleUrl: 'button.css',\n  shadow: true,\n  formAssociated: true,\n})\nexport class Button {\n  @Prop({ reflect: true }) variant?: 'default' | 'soft' | 'outline' | 'ghost' | 'destructive' = 'default'\n  @Prop({ reflect: true }) size?: 'default' | 'sm' | 'lg' | 'icon' = 'default'\n  @Prop({ reflect: true }) width?: 'full' | 'auto' = 'auto'\n  @Prop({ reflect: true }) disabled?: boolean = false\n  @Prop({ reflect: true }) busy?: boolean = false\n\n  // Essential button props\n  @Prop() type: 'button' | 'submit' | 'reset' = 'button'\n  @Prop() name?: string\n  @Prop() value?: string\n  @Prop() form?: string\n\n  @AttachInternals() internals: ElementInternals\n\n  // Events\n  @Event() buttonClick: EventEmitter<MouseEvent>\n\n  private handleClick = (event: MouseEvent) => {\n    if (!this.busy) {\n      this.buttonClick.emit(event)\n      if (this.type === 'submit') {\n        // perform form submission\n        this.internals.form?.requestSubmit()\n      }\n    }\n  }\n\n  render() {\n    return (\n      <button\n        part=\"button\"\n        type={this.type}\n        name={this.name}\n        value={this.value}\n        form={this.form}\n        aria-busy={this.busy}\n        disabled={this.disabled}\n        onClick={this.handleClick}\n      >\n        {this.busy ? (\n          <vui-spinner size=\"small\" />\n        ) : (\n          <div class=\"content\">\n            <slot></slot>\n          </div>\n        )}\n      </button>\n    )\n  }\n}\n",":host {\n  display: block;\n  font-family: var(--font-family);\n}\n\ndiv {\n  display: block;\n  border-radius: var(--radius);\n  border: 1px solid hsl(var(--border));\n  background-color: hsl(var(--card));\n  color: hsl(var(--card-foreground));\n}\n","import { Component, Host, Prop, h } from '@stencil/core'\n\n@Component({\n  tag: 'vui-card',\n  styleUrl: 'card.css',\n  shadow: true,\n})\nexport class Card {\n  @Prop({ reflect: true }) elevation?: 'none' | 'sm' | 'md' | 'lg' | 'xl'\n\n  render() {\n    return (\n      <Host>\n        <div part=\"card\" style={{ 'box-shadow': `var(--elevation-${this.elevation})` }}>\n          <slot></slot>\n        </div>\n      </Host>\n    )\n  }\n}\n",":host {\n  display: block;\n  margin: 0;\n  padding: var(--card-padding);\n  font-family: var(--font-family);\n}\n\n:host(:not(:first-child)) {\n  padding-top: 0;\n}\n","import { Component, Host, h } from '@stencil/core'\n\n@Component({\n  tag: 'vui-card-content',\n  styleUrl: 'card-content.css',\n  shadow: true,\n})\nexport class CardContent {\n  render() {\n    return (\n      <Host part=\"card-content\">\n        <slot></slot>\n      </Host>\n    )\n  }\n}\n",":host {\n  display: block;\n  font-family: var(--font-family);\n}\n\np {\n  font-size: 0.875rem;\n  line-height: 1.5;\n  margin: 0;\n  color: hsl(var(--muted-foreground));\n}\n\n:host([align='start']) p {\n  text-align: start;\n}\n\n:host([align='center']) p {\n  text-align: center;\n}\n\n:host([align='end']) p {\n  text-align: end;\n}\n","import { Component, Host, Prop, h } from '@stencil/core'\n\n@Component({\n  tag: 'vui-card-description',\n  styleUrl: 'card-description.css',\n  shadow: true,\n})\nexport class CardDescription {\n  @Prop({ reflect: true }) align: 'start' | 'center' | 'end' = 'center'\n\n  render() {\n    return (\n      <Host>\n        <p part=\"card-description\">\n          <slot></slot>\n        </p>\n      </Host>\n    )\n  }\n}\n",":host {\n  display: block;\n  font-family: var(--font-family);\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n\n:host([variant='inset']) {\n  padding: 0px;\n  border-top: 1px solid hsl(var(--border));\n  border-bottom-left-radius: var(--radius);\n  border-bottom-right-radius: var(--radius);\n  background-color: hsl(var(--muted) / 0.5);\n  box-shadow: var(--box-shadow);\n}\n","import { Component, Host, Prop, h } from '@stencil/core'\n\n@Component({\n  tag: 'vui-card-footer',\n  styleUrl: 'card-footer.css',\n  shadow: true,\n})\nexport class CardFooter {\n  @Prop({ reflect: true }) variant: 'default' | 'inset' = 'default'\n\n  render() {\n    return (\n      <Host part=\"card-footer\">\n        <slot></slot>\n      </Host>\n    )\n  }\n}\n",":host {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  padding: var(--card-padding);\n  font-family: var(--font-family);\n}\n","import { Component, Host, h } from '@stencil/core'\n\n@Component({\n  tag: 'vui-card-header',\n  styleUrl: 'card-header.css',\n  shadow: true,\n})\nexport class CardHeader {\n  render() {\n    return (\n      <Host part=\"card-header\">\n        <slot></slot>\n      </Host>\n    )\n  }\n}\n",":host {\n  line-height: 1.2;\n  margin: 0;\n  color: hsl(var(--card-foreground));\n  font-weight: 600; /* default bold weight */\n  font-family: var(--font-family);\n}\n\n/* Sizes */\n:host([size='sm']) {\n  font-size: 0.875rem;\n}\n\n:host([size='md']) {\n  font-size: 1rem;\n}\n\n:host([size='lg']) {\n  font-size: 1.25rem;\n}\n\n:host([size='xl']) {\n  font-size: 1.5rem;\n}\n\n/* Alignment */\n:host([align='start']) {\n  text-align: start;\n}\n\n:host([align='center']) {\n  text-align: center;\n}\n\n:host([align='end']) {\n  text-align: end;\n}\n\n/* Weights */\n:host([weight='medium']) {\n  font-weight: 500;\n}\n\n:host([weight='light']) {\n  font-weight: 300;\n}\n","import { Component, Host, Prop, h } from '@stencil/core'\n\n@Component({\n  tag: 'vui-card-title',\n  styleUrl: 'card-title.css',\n  shadow: true,\n})\nexport class CardTitle {\n  @Prop({ reflect: true }) size: 'sm' | 'md' | 'lg' | 'xl' = 'md'\n  @Prop({ reflect: true }) weight: 'bold' | 'medium' | 'light' = 'bold'\n  @Prop({ reflect: true }) align: 'start' | 'center' | 'end' = 'center'\n\n  render() {\n    return (\n      <Host part=\"card-title\">\n        <slot></slot>\n      </Host>\n    )\n  }\n}\n",":host {\n  display: flex;\n  align-items: center;\n  user-select: none;\n}\n\n/* Basic divider without content */\n:host([orientation='horizontal']) {\n  height: 1px;\n  width: 100%;\n  background-color: hsl(var(--border));\n}\n\n:host([orientation='vertical']) {\n  height: 100%;\n  width: 1px;\n  background-color: hsl(var(--border));\n}\n\n/* Divider with content */\n:host([orientation='horizontal']:not(:empty)) {\n  height: auto;\n  background: none;\n  display: flex;\n  align-items: center;\n  text-align: center;\n}\n\n:host([orientation='horizontal']:not(:empty))::before,\n:host([orientation='horizontal']:not(:empty))::after {\n  content: '';\n  flex: 1;\n  height: 1px;\n  background-color: hsl(var(--border));\n}\n\n::slotted(*) {\n  padding: 0 1rem;\n  color: hsl(var(--muted-foreground));\n  font-size: 0.875rem;\n  font-weight: 500;\n}\n","import { Component, Host, Prop, h } from '@stencil/core'\n\n@Component({\n  tag: 'vui-divider',\n  styleUrl: 'divider.css',\n  shadow: true,\n})\nexport class Divider {\n  @Prop({ reflect: true }) orientation?: 'horizontal' | 'vertical' = 'horizontal'\n\n  render() {\n    return (\n      <Host part=\"divider\" role=\"separator\" aria-orientation={this.orientation}>\n        <slot></slot>\n      </Host>\n    )\n  }\n}\n",":host {\n  position: relative;\n  display: inline-block;\n  font-family: var(--font-family);\n}\n\n.anchor {\n  anchor-name: --dropdown-anchor;\n}\n\n.content {\n  position: absolute;\n  z-index: 50;\n  animation: scaleIn 0.2s ease-out;\n}\n\n@supports (anchor-name: --dropdown-anchor) {\n  .content {\n    anchor-name: --dropdown-content;\n  }\n\n  .content[data-position='bottom-end'] {\n    position: absolute;\n    top: anchor(--dropdown-anchor bottom);\n    right: anchor(--dropdown-anchor right);\n  }\n\n  .content[data-position='bottom-start'] {\n    position: absolute;\n    top: anchor(--dropdown-anchor bottom);\n    left: anchor(--dropdown-anchor left);\n  }\n\n  .content[data-position='top-end'] {\n    position: absolute;\n    bottom: anchor(--dropdown-anchor top);\n    right: anchor(--dropdown-anchor right);\n  }\n\n  .content[data-position='top-start'] {\n    position: absolute;\n    bottom: anchor(--dropdown-anchor top);\n    left: anchor(--dropdown-anchor left);\n  }\n}\n\n@supports not (anchor-name: --dropdown-anchor) {\n  .content[data-position='bottom-end'] {\n    top: 100%;\n    right: 0;\n  }\n\n  .content[data-position='bottom-start'] {\n    top: 100%;\n    left: 0;\n  }\n\n  .content[data-position='top-end'] {\n    bottom: 100%;\n    right: 0;\n  }\n\n  .content[data-position='top-start'] {\n    bottom: 100%;\n    left: 0;\n  }\n}\n\n@keyframes scaleIn {\n  from {\n    opacity: 0;\n    transform: scale(0.95);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n","import { Component, Element, Host, Listen, Prop, State, h } from '@stencil/core'\n\n@Component({\n  tag: 'vui-dropdown-menu',\n  styleUrl: 'dropdown-menu.css',\n  shadow: true,\n})\nexport class DropdownMenu {\n  @Element() el!: HTMLElement\n  @State() isOpen = false\n  @Prop({ reflect: true }) position: 'bottom-end' | 'bottom-start' | 'top-end' | 'top-start' = 'bottom-end'\n\n  @Listen('click', { target: 'window' })\n  handleClickOutside(event: MouseEvent) {\n    const target = event.target as HTMLElement\n    const isInside =\n      this.el.contains(target) || target.closest('vui-user-menu') || target.closest('vui-dropdown-menu-item')\n\n    if (!isInside && this.isOpen) {\n      this.isOpen = false\n    }\n  }\n\n  private handleTriggerClick = (event: MouseEvent) => {\n    event.stopPropagation()\n    this.isOpen = !this.isOpen\n  }\n\n  render() {\n    return (\n      <Host part=\"dropdown-menu\">\n        <div class=\"anchor\" onClick={this.handleTriggerClick}>\n          <slot name=\"trigger\"></slot>\n        </div>\n        {this.isOpen && (\n          <div class=\"content\" data-position={this.position} onClick={e => e.stopPropagation()}>\n            <vui-dropdown-menu-content>\n              <slot></slot>\n            </vui-dropdown-menu-content>\n          </div>\n        )}\n      </Host>\n    )\n  }\n}\n",":host {\n  display: block;\n  min-width: 12rem;\n  padding: 0.25rem;\n  margin-top: 0rem;\n  background-color: hsl(var(--popover));\n  border: 1px solid hsl(var(--border));\n  border-radius: var(--radius);\n  box-shadow: var(--elevation-1);\n  font-family: var(--font-family);\n}\n","import { Component, Host, h } from '@stencil/core'\n\n@Component({\n  tag: 'vui-dropdown-menu-content',\n  styleUrl: 'dropdown-menu-content.css',\n  shadow: true,\n})\nexport class DropdownMenuContent {\n  render() {\n    return (\n      <Host part=\"dropdown-menu-content\">\n        <slot></slot>\n      </Host>\n    )\n  }\n}\n",":host {\n  display: flex;\n  align-items: center;\n  user-select: none;\n  border-radius: calc(var(--radius) - 2px);\n  padding: 0.375rem 0.5rem;\n  font-size: 0.875rem;\n  outline: none;\n  cursor: pointer;\n  color: hsl(var(--popover-foreground));\n  background-color: transparent;\n  gap: 0.5rem;\n  font-family: var(--font-family);\n}\n\n:host(:focus),\n:host(:hover) {\n  background-color: hsl(var(--accent));\n  color: hsl(var(--accent-foreground));\n}\n\n:host([disabled]) {\n  pointer-events: none;\n  opacity: 0.5;\n}\n","import { Component, Event, EventEmitter, Host, Prop, h } from '@stencil/core'\n\n@Component({\n  tag: 'vui-dropdown-menu-item',\n  styleUrl: 'dropdown-menu-item.css',\n  shadow: true,\n})\nexport class DropdownMenuItem {\n  @Prop({ reflect: true }) disabled?: boolean = false\n  @Event() itemClick: EventEmitter<void>\n\n  private handleClick = (e: MouseEvent) => {\n    if (!this.disabled) {\n      e.preventDefault()\n      e.stopPropagation()\n      this.itemClick.emit()\n    }\n  }\n\n  private handleKeyDown = (e: KeyboardEvent) => {\n    if (e.key === 'Enter' || e.key === ' ') {\n      e.preventDefault()\n      e.stopPropagation()\n      this.itemClick.emit()\n    }\n  }\n\n  render() {\n    return (\n      <Host\n        part=\"dropdown-menu-item\"\n        onClick={this.handleClick}\n        onKeyDown={this.handleKeyDown}\n        role=\"menuitem\"\n        tabindex=\"0\"\n        aria-disabled={this.disabled}\n      >\n        <slot></slot>\n      </Host>\n    )\n  }\n}\n",":host {\n  display: block;\n  height: 1px;\n  margin: 0.5rem -0.5rem;\n  background-color: hsl(var(--border));\n  font-family: var(--font-family);\n}\n","import { Component, Host, h } from '@stencil/core'\n\n@Component({\n  tag: 'vui-dropdown-menu-separator',\n  styleUrl: 'dropdown-menu-separator.css',\n  shadow: true,\n})\nexport class DropdownMenuSeparator {\n  render() {\n    return (\n      <Host part=\"dropdown-menu-separator\">\n        <slot></slot>\n      </Host>\n    )\n  }\n}\n",":host {\n  display: inline-flex;\n  cursor: pointer;\n  font-family: var(--font-family);\n}\n","import { Component, Host, h } from '@stencil/core'\n\n@Component({\n  tag: 'vui-dropdown-menu-trigger',\n  styleUrl: 'dropdown-menu-trigger.css',\n  shadow: true,\n})\nexport class DropdownMenuTrigger {\n  render() {\n    return (\n      <Host part=\"dropdown-menu-trigger\">\n        <slot></slot>\n      </Host>\n    )\n  }\n}\n",":host {\n  display: block;\n  margin-block-start: 0.25rem;\n  padding-inline-start: 0.5rem;\n  font-family: var(--font-family);\n}\n\n.error-container {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  color: hsl(var(--error));\n  font-size: var(--vui-text-sm, 0.775rem);\n  line-height: var(--vui-leading-5, 1.25rem);\n}\n\n.error-icon {\n  flex-shrink: 0;\n}\n","import { Component, Prop, h } from '@stencil/core'\n\n@Component({\n  tag: 'vui-error-message',\n  styleUrl: 'error-message.css',\n  shadow: true,\n})\nexport class ErrorMessage {\n  /** The error message to display */\n  @Prop() message: string = ''\n\n  /** Whether to show the error icon */\n  @Prop() showIcon: boolean = false\n\n  render() {\n    if (!this.message.trim()) return null\n\n    return (\n      <div class=\"error-container\" role=\"alert\" aria-live=\"polite\">\n        {this.showIcon && <vui-icon name=\"ic:round-error-outline\" size=\"sm\" class=\"error-icon\" aria-hidden=\"true\" />}\n        <span class=\"error-text\">{this.message}</span>\n      </div>\n    )\n  }\n}\n",":host {\n  display: flex;\n  width: auto;\n}\n\n.flex-container {\n  display: flex;\n  width: 100%;\n}\n\n/* Direction */\n:host([direction='row']) .flex-container {\n  flex-direction: row;\n}\n\n:host([direction='column']) .flex-container {\n  flex-direction: column;\n}\n\n/* Items (align-items) */\n:host([items='start']) .flex-container {\n  align-items: flex-start;\n}\n\n:host([items='center']) .flex-container {\n  align-items: center;\n}\n\n:host([items='end']) .flex-container {\n  align-items: flex-end;\n}\n\n:host([items='stretch']) .flex-container {\n  align-items: stretch;\n}\n\n:host([items='baseline']) .flex-container {\n  align-items: baseline;\n}\n\n/* Justify (justify-content) */\n:host([justify='start']) .flex-container {\n  justify-content: flex-start;\n}\n\n:host([justify='center']) .flex-container {\n  justify-content: center;\n}\n\n:host([justify='end']) .flex-container {\n  justify-content: flex-end;\n}\n\n:host([justify='between']) .flex-container {\n  justify-content: space-between;\n}\n\n:host([justify='around']) .flex-container {\n  justify-content: space-around;\n}\n\n:host([justify='evenly']) .flex-container {\n  justify-content: space-evenly;\n}\n\n/* Wrap */\n:host([wrap='wrap']) .flex-container {\n  flex-wrap: wrap;\n}\n\n:host([wrap='wrap-reverse']) .flex-container {\n  flex-wrap: wrap-reverse;\n}\n\n:host([wrap='nowrap']) .flex-container {\n  flex-wrap: nowrap;\n}\n\n/* Width */\n:host([width='full']) {\n  width: 100%;\n}\n\n/* Grow */\n:host([grow]) {\n  flex-grow: 1;\n}\n","import { Component, Element, Host, Prop, h } from '@stencil/core'\n\n@Component({\n  tag: 'vui-flex',\n  styleUrl: 'flex.css',\n  shadow: true,\n})\nexport class Flex {\n  @Element() el!: HTMLElement\n  @Prop({ reflect: true }) direction?: 'row' | 'column' = 'row'\n  @Prop({ reflect: true }) items?: 'start' | 'center' | 'end' | 'stretch' | 'baseline' = 'start'\n  @Prop({ reflect: true }) justify?: 'start' | 'center' | 'end' | 'between' | 'around' | 'evenly' = 'start'\n  @Prop({ reflect: true }) wrap?: 'nowrap' | 'wrap' | 'wrap-reverse' = 'nowrap'\n  @Prop({ reflect: true }) width?: 'full' | 'auto' = 'auto'\n  @Prop({ reflect: true }) grow?: boolean = false\n  @Prop() gap?: number = 0\n  @Prop() spaceUnit?: number = 4\n  @Prop() breakpoint?: string\n  @Prop() breakpointDirection?: 'row' | 'column' = 'column'\n\n  private observer?: ResizeObserver\n  private container?: HTMLElement\n\n  componentDidLoad() {\n    if (this.breakpoint) {\n      this.container = this.el.shadowRoot?.querySelector('.flex-container') as HTMLElement\n      this.setupResizeObserver()\n    }\n  }\n\n  disconnectedCallback() {\n    this.observer?.disconnect()\n  }\n\n  private setupResizeObserver() {\n    if (!this.container) return\n\n    this.observer = new ResizeObserver(entries => {\n      const entry = entries[0]\n      const breakpointValue = parseInt(this.breakpoint || '0')\n      if (entry.contentRect.width < breakpointValue) {\n        this.container?.style.setProperty('flex-direction', this.breakpointDirection || 'column')\n      } else {\n        this.container?.style.setProperty('flex-direction', this.direction || 'row')\n      }\n    })\n\n    this.observer.observe(this.container)\n  }\n\n  private getGapStyle() {\n    return `calc(${this.spaceUnit}px * ${this.gap})`\n  }\n\n  render() {\n    const styles: { [key: string]: any } = {\n      width: this.width === 'full' ? '100%' : 'auto',\n    }\n\n    const getJustifyContent = (justify: string) => {\n      const map = {\n        start: 'flex-start',\n        end: 'flex-end',\n        center: 'center',\n        between: 'space-between',\n        around: 'space-around',\n        evenly: 'space-evenly',\n      }\n      return map[justify] || 'flex-start'\n    }\n\n    const getAlignItems = (items: string) => {\n      const map = {\n        start: 'flex-start',\n        end: 'flex-end',\n        center: 'center',\n        stretch: 'stretch',\n        baseline: 'baseline',\n      }\n      return map[items] || 'flex-start'\n    }\n\n    return (\n      <Host style={styles}>\n        <div\n          class=\"flex-container\"\n          style={{\n            gap: this.getGapStyle(),\n            flexDirection: this.direction,\n            justifyContent: getJustifyContent(this.justify),\n            alignItems: getAlignItems(this.items),\n            flexWrap: this.wrap,\n          }}\n        >\n          <slot></slot>\n        </div>\n      </Host>\n    )\n  }\n}\n",":host {\n  position: relative;\n  flex: 1;\n  min-width: 0;\n  font-family: var(--font-family);\n}\n\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border: 0;\n}\n","import { Component, Host, Prop, h } from '@stencil/core'\n\n@Component({\n  tag: 'vui-form-input',\n  styleUrl: 'form-input.css',\n  shadow: true,\n})\nexport class Label {\n  @Prop() label: string\n  @Prop() htmlFor: string\n  @Prop() errorMessage?: string\n\n  render() {\n    return (\n      <Host>\n        <label class=\"sr-only\" htmlFor={this.htmlFor}>\n          {this.label}\n        </label>\n        <slot></slot>\n        {this.errorMessage && <vui-error-message message={this.errorMessage} />}\n      </Host>\n    )\n  }\n}\n","import { Component, Element, Host, Prop, State, Watch, h } from '@stencil/core'\n\nimport { I18nProvider } from './i18n-provider'\n\n@Component({\n  tag: 'vui-i18n',\n  shadow: false,\n})\nexport class Translate {\n  @Element() el!: HTMLElement\n  @Prop() text: string\n  @Prop({ reflect: true }) params?: Record<string, string> | string\n  @State() translatedText: string\n\n  @Watch('text')\n  @Watch('params')\n  async translateText() {\n    const provider = I18nProvider.getClosestProvider(this.el)\n    if (!provider) {\n      console.warn('No i18n provider found, using text as fallback')\n      this.translatedText = this.text\n      return\n    }\n\n    const parsedParams = typeof this.params === 'string' ? JSON.parse(this.params) : this.params\n    this.translatedText = provider.getTranslation(this.text, parsedParams)\n  }\n\n  async componentWillLoad() {\n    await this.translateText()\n  }\n\n  render() {\n    return <Host part=\"translated\">{this.translatedText}</Host>\n  }\n}\n",":host {\n  display: inline-block;\n  vertical-align: middle;\n  line-height: 1;\n}\n\nspan {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n}\n\nspan svg {\n  width: 100%;\n  height: 100%;\n  fill: currentColor;\n}\n\n/* Size variants */\n:host([size='xs']) {\n  width: 12px;\n  height: 12px;\n}\n\n:host([size='sm']) {\n  width: 18px;\n  height: 18px;\n}\n\n:host([size='md']) {\n  width: 24px;\n  height: 24px;\n}\n\n:host([size='lg']) {\n  width: 36px;\n  height: 36px;\n}\n","import { Component, Prop, State, Watch, h } from '@stencil/core'\n\n@Component({\n  tag: 'vui-icon',\n  styleUrl: 'icon.css',\n  shadow: true,\n})\nexport class Icon {\n  @Prop() name!: string\n  @Prop({ reflect: true }) size?: 'xs' | 'sm' | 'md' | 'lg' = 'md'\n  @Prop() color?: string\n\n  @State() private svgContent: string = ''\n\n  @Watch('name')\n  async loadIconData() {\n    try {\n      if (!this.name) return\n\n      const [prefix, iconName] = this.name.split(':')\n      if (!prefix || !iconName) {\n        console.error('Invalid icon name format. Use \"prefix:name\" format (e.g., \"mdi:home\")')\n        return\n      }\n\n      const response = await fetch(`https://api.iconify.design/${prefix}/${iconName}.svg`)\n      if (!response.ok) throw new Error(`Failed to load icon: ${this.name}`)\n\n      const svgText = await response.text()\n      this.svgContent = svgText\n    } catch (error) {\n      console.error(`Failed to load icon: ${this.name}`, error)\n    }\n  }\n\n  componentWillLoad() {\n    this.loadIconData()\n  }\n\n  render() {\n    return (\n      <span part=\"icon\" style={{ color: this.color }} innerHTML={this.svgContent}>\n        {!this.svgContent && <slot></slot>}\n      </span>\n    )\n  }\n}\n",":host {\n  display: inline;\n  font-family: var(--font-family);\n}\n\na {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  text-decoration: none;\n  text-underline-offset: 4px;\n  font-size: 0.875rem;\n  cursor: pointer;\n  transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);\n  /* Default variant styles */\n  color: hsl(var(--primary));\n  text-decoration-color: hsl(var(--primary) / 0.4);\n}\n\n/* Hover state */\na:hover {\n  text-decoration: underline;\n  text-decoration-color: hsl(var(--primary));\n}\n\n/* Variants */\n:host([variant='muted']) a {\n  color: hsl(var(--muted-foreground));\n  text-decoration-color: hsl(var(--muted-foreground) / 0.4);\n}\n\n:host([variant='muted']) a:hover {\n  color: hsl(var(--foreground));\n  text-decoration-color: hsl(var(--foreground));\n}\n\n:host([variant='destructive']) a {\n  color: hsl(var(--destructive));\n  text-decoration-color: hsl(var(--destructive) / 0.4);\n}\n\n:host([variant='destructive']) a:hover {\n  text-decoration-color: hsl(var(--destructive));\n}\n\n/* Focus state */\na:focus-visible {\n  outline: none;\n  box-shadow:\n    0 0 0 2px hsl(var(--background)),\n    0 0 0 4px hsl(var(--ring));\n  border-radius: 2px;\n}\n\n/* Disabled state */\n:host([disabled]) a {\n  opacity: 0.5;\n  cursor: not-allowed;\n  pointer-events: none;\n}\n","import { Component, Prop, h } from '@stencil/core'\n\n@Component({\n  tag: 'vui-link',\n  styleUrl: 'link.css',\n  shadow: true,\n})\nexport class Link {\n  @Prop() href?: string\n  @Prop() target?: '_blank' | '_self' | '_parent' | '_top'\n  @Prop({ reflect: true }) variant?: 'default' | 'muted' | 'destructive' = 'default'\n  @Prop({ reflect: true }) disabled?: boolean = false\n\n  render() {\n    return (\n      <a\n        part=\"link\"\n        href={this.disabled ? undefined : this.href}\n        target={this.target}\n        rel={this.target === '_blank' ? 'noopener noreferrer' : undefined}\n      >\n        <slot></slot>\n      </a>\n    )\n  }\n}\n","import { FunctionalComponent, h } from '@stencil/core';\n\ninterface IconProps {\n  class?: string;\n  width?: string | number;\n  height?: string | number;\n  fill?: string;\n  stroke?: string;\n}\n\nexport const Icons = {\n  twitter: (props: IconProps): FunctionalComponent => {\n    return (\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" class={props.class} width={props.width} height={props.height}>\n        <path\n          d=\"M21.543 7.104c.015.211.015.423.015.636 0 6.507-4.954 14.01-14.01 14.01v-.003A13.94 13.94 0 0 1 0 19.539a9.88 9.88 0 0 0 7.287-2.041 4.93 4.93 0 0 1-4.6-3.42 4.916 4.916 0 0 0 2.223-.084A4.926 4.926 0 0 1 .96 9.167v-.062a4.887 4.887 0 0 0 2.235.616A4.928 4.928 0 0 1 1.67 3.148a13.98 13.98 0 0 0 10.15 5.144 4.929 4.929 0 0 1 8.39-4.49 9.868 9.868 0 0 0 3.128-1.196 4.941 4.941 0 0 1-2.165 2.724A9.828 9.828 0 0 0 24 4.555a10.019 10.019 0 0 1-2.457 2.549z\"\n          fill={props.fill || 'currentColor'}\n        />\n      </svg>\n    );\n  },\n  gitHub: (props: IconProps) => (\n    <svg viewBox=\"0 0 438.549 438.549\" {...props}>\n      <path\n        fill=\"currentColor\"\n        d=\"M409.132 114.573c-19.608-33.596-46.205-60.194-79.798-79.8-33.598-19.607-70.277-29.408-110.063-29.408-39.781 0-76.472 9.804-110.063 29.408-33.596 19.605-60.192 46.204-79.8 79.8C9.803 148.168 0 184.854 0 224.63c0 47.78 13.94 90.745 41.827 128.906 27.884 38.164 63.906 64.572 108.063 79.227 5.14.954 8.945.283 11.419-1.996 2.475-2.282 3.711-5.14 3.711-8.562 0-.571-.049-5.708-.144-15.417a2549.81 2549.81 0 01-.144-25.406l-6.567 1.136c-4.187.767-9.469 1.092-15.846 1-6.374-.089-12.991-.757-19.842-1.999-6.854-1.231-13.229-4.086-19.13-8.559-5.898-4.473-10.085-10.328-12.56-17.556l-2.855-6.57c-1.903-4.374-4.899-9.233-8.992-14.559-4.093-5.331-8.232-8.945-12.419-10.848l-1.999-1.431c-1.332-.951-2.568-2.098-3.711-3.429-1.142-1.331-1.997-2.663-2.568-3.997-.572-1.335-.098-2.43 1.427-3.289 1.525-.859 4.281-1.276 8.28-1.276l5.708.853c3.807.763 8.516 3.042 14.133 6.851 5.614 3.806 10.229 8.754 13.846 14.842 4.38 7.806 9.657 13.754 15.846 17.847 6.184 4.093 12.419 6.136 18.699 6.136 6.28 0 11.704-.476 16.274-1.423 4.565-.952 8.848-2.383 12.847-4.285 1.713-12.758 6.377-22.559 13.988-29.41-10.848-1.14-20.601-2.857-29.264-5.14-8.658-2.286-17.605-5.996-26.835-11.14-9.235-5.137-16.896-11.516-22.985-19.126-6.09-7.614-11.088-17.61-14.987-29.979-3.901-12.374-5.852-26.648-5.852-42.826 0-23.035 7.52-42.637 22.557-58.817-7.044-17.318-6.379-36.732 1.997-58.24 5.52-1.715 13.706-.428 24.554 3.853 10.85 4.283 18.794 7.952 23.84 10.994 5.046 3.041 9.089 5.618 12.135 7.708 17.705-4.947 35.976-7.421 54.818-7.421s37.117 2.474 54.823 7.421l10.849-6.849c7.419-4.57 16.18-8.758 26.262-12.565 10.088-3.805 17.802-4.853 23.134-3.138 8.562 21.509 9.325 40.922 2.279 58.24 15.036 16.18 22.559 35.787 22.559 58.817 0 16.178-1.958 30.497-5.853 42.966-3.9 12.471-8.941 22.457-15.125 29.979-6.191 7.521-13.901 13.85-23.131 18.986-9.232 5.14-18.182 8.85-26.84 11.136-8.662 2.286-18.415 4.004-29.263 5.146 9.894 8.562 14.842 22.077 14.842 40.539v60.237c0 3.422 1.19 6.279 3.572 8.562 2.379 2.279 6.136 2.95 11.276 1.995 44.163-14.653 80.185-41.062 108.068-79.226 27.88-38.161 41.825-81.126 41.825-128.906-.01-39.771-9.818-76.454-29.414-110.049z\"\n      ></path>\n    </svg>\n  ),\n  google: (props: IconProps) => (\n    <svg viewBox=\"0 0 20 20\" fill=\"none\" {...props}>\n      <mask id=\"mask0_88_75\" maskUnits=\"userSpaceOnUse\" x=\"0\" y=\"0\" width=\"20\" height=\"20\">\n        <path d=\"M20 0H0V20H20V0Z\" fill=\"white\" />\n      </mask>\n      <g mask=\"url(#mask0_88_75)\">\n        <path\n          d=\"M19.6 10.2273C19.6 9.51819 19.5364 8.83639 19.4182 8.18179H10V12.05H15.3818C15.15 13.3 14.4455 14.3591 13.3864 15.0682V17.5773H16.6182C18.5091 15.8364 19.6 13.2727 19.6 10.2273Z\"\n          fill=\"#4285F4\"\n        />\n        <path\n          d=\"M10 20C12.7 20 14.9636 19.1045 16.6181 17.5773L13.3863 15.0682C12.4909 15.6682 11.3454 16.0227 10 16.0227C7.3954 16.0227 5.1909 14.2636 4.4045 11.9H1.0636V14.4909C2.7091 17.7591 6.0909 20 10 20Z\"\n          fill=\"#34A853\"\n        />\n        <path\n          d=\"M4.4045 11.9C4.2045 11.3 4.0909 10.6591 4.0909 9.99999C4.0909 9.34089 4.2045 8.69999 4.4045 8.09999V5.50909H1.0636C0.3864 6.85909 0 8.38639 0 9.99999C0 11.6136 0.3864 13.1409 1.0636 14.4909L4.4045 11.9Z\"\n          fill=\"#FBBC04\"\n        />\n        <path\n          d=\"M10 3.9773C11.4681 3.9773 12.7863 4.4818 13.8227 5.4727L16.6909 2.6045C14.9591 0.9909 12.6954 0 10 0C6.0909 0 2.7091 2.2409 1.0636 5.5091L4.4045 8.1C5.1909 5.7364 7.3954 3.9773 10 3.9773Z\"\n          fill=\"#E94235\"\n        />\n      </g>\n    </svg>\n  ),\n  apple: (props: IconProps) => (\n    <svg role=\"img\" viewBox=\"0 0 24 24\" {...props}>\n      <path\n        d=\"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  ),\n  paypal: (props: IconProps) => (\n    <svg role=\"img\" viewBox=\"0 0 24 24\" {...props}>\n      <path\n        d=\"M7.076 21.337H2.47a.641.641 0 0 1-.633-.74L4.944.901C5.026.382 5.474 0 5.998 0h7.46c2.57 0 4.578.543 5.69 1.81 1.01 1.15 1.304 2.42 1.012 4.287-.023.143-.047.288-.077.437-.983 5.05-4.349 6.797-8.647 6.797h-2.19c-.524 0-.968.382-1.05.9l-1.12 7.106zm14.146-14.42a3.35 3.35 0 0 0-.607-.541c-.013.076-.026.175-.041.254-.93 4.778-4.005 7.201-9.138 7.201h-2.19a.563.563 0 0 0-.556.479l-1.187 7.527h-.506l-.24 1.516a.56.56 0 0 0 .554.647h3.882c.46 0 .85-.334.922-.788.06-.26.76-4.852.816-5.09a.932.932 0 0 1 .923-.788h.58c3.76 0 6.705-1.528 7.565-5.946.36-1.847.174-3.388-.777-4.471z\"\n        fill=\"currentColor\"\n      />\n    </svg>\n  ),\n};\n",":host {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  line-height: 1;\n}\n\n:host svg {\n  width: 100%;\n  height: 100%;\n}\n","import { Component, Host, Prop, h } from '@stencil/core'\n\nimport { Icons } from '../../icons/Icons'\n\nexport type LogoName = 'twitter' | 'gitHub' | 'google' | 'apple' | 'paypal'\n\nexport interface LogoProps {\n  /** The name of the logo to display */\n  name: LogoName\n  /** The size of the logo in pixels */\n  size?: number\n}\n\n@Component({\n  tag: 'vui-logo',\n  styleUrl: 'logo.css',\n  shadow: true,\n})\nexport class Logo implements LogoProps {\n  /** The name of the logo to display */\n  @Prop() name!: LogoName\n\n  /** The size of the logo in pixels */\n  @Prop({ reflect: true }) size: number = 20\n\n  render() {\n    return (\n      <Host\n        part=\"logo\"\n        style={{\n          width: `${this.size}px`,\n          height: `${this.size}px`,\n        }}\n      >\n        {Icons[this.name]({\n          width: this.size,\n          height: this.size,\n        })}\n      </Host>\n    )\n  }\n}\n",":host {\n  width: 100%;\n  display: grid;\n  gap: 0.75rem;\n  font-family: var(--font-family);\n}\n\n[part='logo-container'] {\n  display: flex;\n  justify-content: center;\n  margin-bottom: 1rem;\n}\n\n/* .form-field {\n  position: relative;\n} */\n\n.code-input {\n  width: 40px;\n  border-radius: 0.5rem;\n  border: 1px solid hsl(var(--border));\n}\n\n.code-input::part(input) {\n  font-size: 1.25rem;\n  font-weight: 600;\n  text-align: center;\n  cursor: text;\n}\n\n.code-input:readonly::part(input) {\n  cursor: default;\n}\n\n.code-input.active {\n  background-color: hsl(var(--highlight));\n}\n\n.code-input.active::part(input) {\n  background-color: hsl(var(--background));\n}\n\n.verify-button {\n  width: 100%;\n  margin-top: 1rem;\n}\n\n.footer-prompt {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  padding: 0.5rem;\n  font-size: 0.875rem;\n  color: hsl(var(--muted-foreground));\n}\n","import { Component, Element, Event, EventEmitter, Host, Prop, State, h } from '@stencil/core'\n\nimport { I18nProvider } from '../../components/i18n/i18n-provider'\n\n@Component({\n  tag: 'vui-otp',\n  styleUrl: 'otp.css',\n  shadow: true,\n})\nexport class Otp {\n  @Element() el!: HTMLElement\n\n  @State() code: string[] = []\n  @State() activeIndex: number = 0\n\n  @Event() formSubmit: EventEmitter<string>\n\n  @Prop({ mutable: true }) submitLabel?: string = ''\n\n  private readonly codeLength = 6\n\n  private translate(key: string, params?: Record<string, string>): string {\n    const provider = I18nProvider.getClosestProvider(this.el)\n    if (!provider) {\n      console.warn('No i18n provider found, using key as fallback')\n      return key\n    }\n    return provider.getTranslation(key, params)\n  }\n\n  private focusActive() {\n    setTimeout(() => {\n      const activeTextbox = this.el.shadowRoot?.querySelector(`vui-textbox[name=\"code-${this.activeIndex}\"]`)\n      const input = activeTextbox?.shadowRoot?.querySelector('input')\n      if (input) input.focus()\n    }, 0)\n  }\n\n  private handleKeyDown = (e: KeyboardEvent) => {\n    if (['ArrowLeft', 'ArrowRight', 'ArrowUp', 'ArrowDown'].includes(e.key)) {\n      e.preventDefault()\n      return\n    }\n\n    if (e.key === 'Backspace' || e.key === 'Delete') {\n      e.preventDefault()\n      this.handleDelete(e.key === 'Backspace')\n    } else if (/^\\d$/.test(e.key)) {\n      e.preventDefault()\n      this.handleDigitInput(e.key)\n    }\n  }\n\n  private handleDelete(isBackspace: boolean) {\n    this.code = [...this.code.slice(0, this.activeIndex), '', ...this.code.slice(this.activeIndex + 1, this.codeLength)]\n\n    if (isBackspace && this.activeIndex > 0) {\n      this.activeIndex--\n      this.focusActive()\n    }\n  }\n\n  private handleDigitInput(digit: string) {\n    this.code = [\n      ...this.code.slice(0, this.activeIndex),\n      digit,\n      ...this.code.slice(this.activeIndex + 1, this.codeLength),\n    ]\n\n    if (this.activeIndex < this.codeLength - 1) {\n      this.activeIndex++\n      this.focusActive()\n    }\n  }\n\n  private handleMouseDown = (e: MouseEvent) => {\n    e.preventDefault()\n    this.focusActive()\n  }\n\n  private handleSubmit = (e: Event) => {\n    e.preventDefault()\n    if (this.code.length === this.codeLength) {\n      this.formSubmit.emit(this.code.join(''))\n    }\n  }\n\n  componentDidLoad() {\n    this.focusActive()\n  }\n\n  render() {\n    return (\n      <Host part=\"otp\" onKeyDown={this.handleKeyDown}>\n        <form onSubmit={this.handleSubmit}>\n          <vui-flex direction=\"row\" justify=\"center\" gap={2}>\n            {Array.from({ length: this.codeLength }).map((_, index) => (\n              <div class=\"form-field\">\n                <vui-textbox\n                  part={`input-${index}`}\n                  name={`code-${index}`}\n                  class={{\n                    'code-input': true,\n                    active: index === this.activeIndex,\n                  }}\n                  value={this.code[index] || ''}\n                  readonly\n                  focusable={index === this.activeIndex}\n                  onMouseDown={this.handleMouseDown}\n                  onClick={this.handleMouseDown}\n                />\n              </div>\n            ))}\n          </vui-flex>\n\n          <vui-button class=\"verify-button\" type=\"submit\" onClick={this.handleSubmit}>\n            {this.translate(this.submitLabel, { default: '$form.submit.label' })}\n          </vui-button>\n        </form>\n      </Host>\n    )\n  }\n}\n",":host {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: hsl(var(--muted));\n  padding: 0.5rem;\n}\n\nsvg {\n  width: calc(100% - 0.5rem);\n  height: calc(100% - 0.5rem);\n  max-width: 100%;\n  max-height: 100%;\n}\n\n.logo-path {\n  fill: hsl(var(--muted-foreground));\n}\n","import { Component, Host, Prop, h } from '@stencil/core'\n\n@Component({\n  tag: 'vui-placeholder',\n  styleUrl: 'placeholder.css',\n  shadow: true,\n})\nexport class Placeholder {\n  /** Width of the placeholder in pixels */\n  @Prop() width: number = 100\n\n  /** Height of the placeholder in pixels */\n  @Prop() height: number = 100\n\n  /** Border radius in pixels. Use 9999 for fully rounded */\n  @Prop() radius: number = 8\n\n  render() {\n    return (\n      <Host\n        part=\"placeholder\"\n        style={{\n          width: `${this.width}px`,\n          height: `${this.height}px`,\n          borderRadius: `${this.radius}px`,\n        }}\n      >\n        <svg part=\"logo\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path\n            class=\"logo-path\"\n            fill-rule=\"evenodd\"\n            clip-rule=\"evenodd\"\n            d=\"M25.5557 11.6853C23.9112 10.5865 21.9778 10 20 10V0C23.9556 0 27.8224 1.17298 31.1114 3.37061C34.4004 5.56823 36.9638 8.69181 38.4776 12.3463C39.9913 16.0008 40.3874 20.0222 39.6157 23.9018C38.844 27.7814 36.9392 31.3451 34.1421 34.1421C31.3451 36.9392 27.7814 38.844 23.9018 39.6157C20.0222 40.3874 16.0008 39.9913 12.3463 38.4776C8.69181 36.9638 5.56823 34.4004 3.37061 31.1114C1.17298 27.8224 0 23.9556 0 20H10C10 21.9778 10.5865 23.9112 11.6853 25.5557C12.7841 27.2002 14.3459 28.4819 16.1732 29.2388C18.0004 29.9957 20.0111 30.1937 21.9509 29.8078C23.8907 29.422 25.6725 28.4696 27.0711 27.0711C28.4696 25.6725 29.422 23.8907 29.8078 21.9509C30.1937 20.0111 29.9957 18.0004 29.2388 16.1732C28.4819 14.3459 27.2002 12.7841 25.5557 11.6853Z\"\n          />\n          <path\n            class=\"logo-path\"\n            fill-rule=\"evenodd\"\n            clip-rule=\"evenodd\"\n            d=\"M10 5.16562e-07C10 1.31322 9.74135 2.61358 9.2388 3.82683C8.73625 5.04009 7.99966 6.14248 7.07107 7.07107C6.14249 7.99966 5.0401 8.73625 3.82684 9.2388C2.61358 9.74134 1.31322 10 5.4439e-06 10L5.00679e-06 20C2.62644 20 5.22716 19.4827 7.65368 18.4776C10.0802 17.4725 12.285 15.9993 14.1421 14.1421C15.9993 12.285 17.4725 10.0802 18.4776 7.65367C19.4827 5.22715 20 2.62643 20 -3.81469e-06L10 5.16562e-07Z\"\n          />\n        </svg>\n      </Host>\n    )\n  }\n}\n",":host {\n  display: block;\n  width: 100%;\n  /* border-top: 1px solid hsl(var(--border)); */\n  border-bottom: 1px solid hsl(var(--border));\n}\n\n.request-container {\n  display: grid;\n  background-color: hsl(var(--muted) / 0.5);\n}\n\n.title {\n  font-weight: 600;\n  color: hsl(var(--foreground));\n}\n\n.permissions-section,\n.redirect-section {\n  display: grid;\n  gap: 0.5rem;\n  margin-bottom: var(--card-padding);\n  padding: var(--card-padding);\n}\n\n.permissions-section {\n  padding-bottom: 0;\n}\n\n.redirect-section {\n  padding: 0 var(--card-padding);\n}\n\n.section-title {\n  font-weight: 600;\n  color: hsl(var(--foreground));\n  font-size: 1rem;\n}\n\n.permissions-list {\n  display: grid;\n  gap: 0.5rem;\n  margin: 0;\n  padding-inline-start: 1.25rem;\n}\n\n.permission-item {\n  align-items: center;\n  gap: 0.5rem;\n  color: hsl(var(--muted-foreground));\n  font-size: 0.875rem;\n}\n\n.redirect-uri {\n  color: hsl(var(--muted-foreground));\n  font-size: 0.875rem;\n  word-break: break-all;\n}\n\n.actions {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 1rem;\n  padding: calc(var(--card-padding) / 2);\n  border-block-start: 1px solid hsl(var(--border));\n}\n\n:host([dir='rtl']) .actions {\n  direction: rtl;\n}\n\n.approve-button::part(button) {\n  background-color: hsl(var(--success));\n}\n\n@media (max-width: 640px) {\n  .actions {\n    grid-template-columns: 1fr;\n    direction: inherit;\n  }\n}\n","import { Component, Element, Event, EventEmitter, Host, Prop, State, h } from '@stencil/core'\n\nimport { I18nProvider } from '../../components/i18n/i18n-provider'\nimport { toJSON } from '../../utils/toJSON'\n\n@Component({\n  tag: 'vui-request',\n  styleUrl: 'request.css',\n  shadow: true,\n})\nexport class Request {\n  @Element() el!: HTMLElement\n\n  @Prop({ mutable: true, reflect: true }) permissions?: string[] | string = []\n  @Prop({ reflect: true }) application?: string\n  @Prop({ reflect: true }) redirectUri?: string\n  @Prop({ reflect: true }) isLoading?: boolean\n  @Prop() showRedirect?: boolean = true\n\n  @State() permissionsList: string[] = []\n\n  @Event() requestApprove: EventEmitter<void>\n  @Event() requestDeny: EventEmitter<void>\n\n  private translate(key: string, params?: Record<string, string>): string {\n    const provider = I18nProvider.getClosestProvider(this.el)\n    if (!provider) {\n      console.warn('No i18n provider found, using key as fallback')\n      return key\n    }\n    return provider.getTranslation(`$${key}`, params)\n  }\n\n  private handleApprove = (e: Event) => {\n    e.preventDefault()\n    this.requestApprove.emit()\n  }\n\n  private handleDeny = (e: Event) => {\n    e.preventDefault()\n    this.requestDeny.emit()\n  }\n\n  componentWillLoad() {\n    if (typeof this.permissions === 'string') {\n      this.permissionsList = toJSON<string[]>(this.permissions, []).map(p => p.trim())\n    } else {\n      this.permissionsList = this.permissions\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <slot name=\"logo\"></slot>\n        <slot name=\"header\">\n          <vui-auth-header heading={this.application} size=\"lg\" align=\"center\"></vui-auth-header>\n        </slot>\n        <div class=\"request-container\">\n          <div class=\"permissions-section\">\n            <div class=\"section-title\">{this.translate('request.permissions.title')}</div>\n            <ul class=\"permissions-list\">\n              {this.permissionsList.map(permission => (\n                <li class=\"permission-item\">{permission}</li>\n              ))}\n            </ul>\n          </div>\n\n          {this.redirectUri && (\n            <div class=\"redirect-section\">\n              <div class=\"section-title\">{this.translate('request.redirect.title')}</div>\n              {this.showRedirect && <div class=\"redirect-uri\">{this.redirectUri}</div>}\n            </div>\n          )}\n\n          <div class=\"actions\">\n            <vui-button\n              variant=\"soft\"\n              class=\"deny-button\"\n              onClick={this.handleDeny}\n              busy={this.isLoading}\n              disabled={this.isLoading}\n            >\n              {this.translate('request.deny.label')}\n            </vui-button>\n\n            <vui-button\n              variant=\"default\"\n              class=\"approve-button\"\n              onClick={this.handleApprove}\n              busy={this.isLoading}\n              disabled={this.isLoading}\n            >\n              {this.translate('request.approve.label')}\n            </vui-button>\n          </div>\n        </div>\n      </Host>\n    )\n  }\n}\n",".spinner {\n  display: inline-block;\n}\n\n.spinner svg {\n  animation: rotate 2s linear infinite;\n}\n\n.spinner .path {\n  animation: dash 1.5s ease-in-out infinite;\n  stroke-linecap: round;\n}\n\n.spinner.small svg {\n  width: 24px;\n  height: 24px;\n}\n\n.spinner.medium svg {\n  width: 36px;\n  height: 36px;\n}\n\n.spinner.large svg {\n  width: 48px;\n  height: 48px;\n}\n\n@keyframes rotate {\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes dash {\n  0% {\n    stroke-dasharray: 1, 150;\n    stroke-dashoffset: 0;\n  }\n  50% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -35;\n  }\n  100% {\n    stroke-dasharray: 90, 150;\n    stroke-dashoffset: -124;\n  }\n}\n","import { Component, Prop, h } from '@stencil/core'\n\n@Component({\n  tag: 'vui-spinner',\n  styleUrl: 'spinner.css',\n  shadow: true,\n})\nexport class Spinner {\n  @Prop() size: 'small' | 'medium' | 'large' = 'medium'\n  @Prop() color: string = 'currentColor'\n\n  render() {\n    return (\n      <div class={`spinner ${this.size}`} aria-label=\"Loading\">\n        <svg viewBox=\"0 0 50 50\" xmlns=\"http://www.w3.org/2000/svg\" style={{ color: this.color }}>\n          <circle class=\"path\" cx=\"25\" cy=\"25\" r=\"20\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"5\" />\n        </svg>\n      </div>\n    )\n  }\n}\n",":host {\n  display: block;\n}\n\ninput {\n  display: flex;\n  height: 40px;\n  width: 100%;\n  box-sizing: border-box;\n  border-radius: var(--radius);\n  border: 1px solid hsl(var(--border));\n  background-color: hsl(var(--background));\n  color: hsl(var(--foreground));\n  padding: 0 12px;\n  font-size: 14px;\n  line-height: 1.5;\n  transition:\n    border-color 150ms cubic-bezier(0.4, 0, 0.2, 1),\n    box-shadow 150ms cubic-bezier(0.4, 0, 0.2, 1);\n  font-family: var(--font-family);\n  box-shadow: var(--shadow);\n  outline: none;\n}\n\ninput:focus {\n  border-color: hsl(var(--ring));\n  box-shadow: 0 0 0 2px hsl(var(--ring) / 0.2);\n  outline: 2px solid hsl(var(--ring));\n  outline-offset: 2px;\n}\n\ninput:disabled {\n  cursor: not-allowed;\n  opacity: 0.5;\n  background-color: hsl(var(--muted));\n}\n\ninput::placeholder {\n  color: hsl(var(--muted-foreground));\n}\n\ninput:invalid,\n:host([invalid]) input {\n  border-color: hsl(var(--error, var(--destructive)));\n}\n\ninput:invalid:focus,\n:host([invalid]) input:focus {\n  border-color: hsl(var(--error, var(--destructive)));\n  box-shadow: 0 0 0 2px hsl(var(--error, var(--destructive)) / 0.2);\n  outline: 2px solid hsl(var(--error, var(--destructive)));\n  outline-offset: 2px;\n}\n\ninput:read-only {\n  background-color: hsl(var(--muted));\n  cursor: default;\n}\n","import { Component, Event, EventEmitter, Prop, h } from '@stencil/core'\n\n@Component({\n  tag: 'vui-textbox',\n  styleUrl: 'textbox.css',\n  shadow: true,\n})\nexport class Textbox {\n  // HTML input attributes\n  @Prop() type: string = 'text'\n  @Prop() placeholder?: string\n  @Prop({ reflect: true }) disabled?: boolean\n  @Prop({ reflect: true }) name?: string\n  @Prop() autocomplete?: string\n  @Prop() autocorrect?: 'on' | 'off'\n  @Prop({ reflect: true }) required?: boolean\n  @Prop() maxlength?: number\n  @Prop({ reflect: true }) readonly?: boolean\n  @Prop({ mutable: true, reflect: true }) value: string = ''\n  @Prop() focusable?: boolean = true\n  @Prop({ reflect: true }) invalid?: boolean\n\n  // Events\n  @Event() valueChange: EventEmitter<string>\n  @Event() inputChange: EventEmitter<string>\n  @Event() enterKey: EventEmitter<void>\n\n  private handleInput = (event: InputEvent) => {\n    const input = event.target as HTMLInputElement\n    this.value = input.value\n    this.inputChange.emit(this.value)\n  }\n\n  private handleKeyDown = (event: KeyboardEvent) => {\n    if (event.key === 'Enter') {\n      this.enterKey.emit()\n    }\n  }\n\n  private handleChange = (event: Event) => {\n    const input = event.target as HTMLInputElement\n    this.value = input.value\n    this.valueChange.emit(this.value)\n  }\n\n  render() {\n    return (\n      <input\n        part=\"input\"\n        type={this.type}\n        value={this.value}\n        placeholder={this.placeholder}\n        disabled={this.disabled}\n        name={this.name}\n        autocomplete={this.autocomplete}\n        readonly={this.readonly}\n        autocorrect={this.autocorrect}\n        maxlength={this.maxlength}\n        required={this.required}\n        tabindex={this.focusable ? '0' : '-1'}\n        onInput={this.handleInput}\n        onChange={this.handleChange}\n        onKeyDown={this.handleKeyDown}\n      />\n    )\n  }\n}\n",":host {\n  display: inline-block;\n}\n\n:host([data-theme='dark']) {\n  color: hsl(240 5% 64.9%);\n}\n\n:host([data-theme='dark']:hover) {\n  color: hsl(0 0% 98%);\n  background: hsl(240 3.7% 15.9%);\n}\n\n/* Animation for icon transition */\n::slotted([part='sun-icon']),\n::slotted([part='moon-icon']) {\n  position: absolute;\n  transition: transform 150ms cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n::slotted([part='sun-icon']) {\n  transform: scale(1);\n}\n\n::slotted([part='moon-icon']) {\n  transform: scale(1);\n}\n\n::slotted([part='sun-icon']:not(:visible)) {\n  transform: scale(0);\n}\n\n::slotted([part='moon-icon']:not(:visible)) {\n  transform: scale(0);\n}\n","import { Component, State, Watch, h } from '@stencil/core'\n\ntype Theme = 'light' | 'dark'\n\n@Component({\n  tag: 'vui-theme-toggle',\n  styleUrl: 'theme-toggle.css',\n  shadow: true,\n})\nexport class ThemeToggle {\n  @State() theme: Theme = 'light'\n\n  componentWillLoad() {\n    this.theme = this.getInitialTheme()\n  }\n\n  private getInitialTheme(): Theme {\n    // Check localStorage first\n    const storedTheme = localStorage.getItem('theme') as Theme\n    if (storedTheme === 'dark' || storedTheme === 'light') {\n      return storedTheme\n    }\n\n    // Check data-theme attribute\n    const dataTheme = document.documentElement.getAttribute('data-theme') as Theme\n    if (dataTheme === 'dark' || dataTheme === 'light') {\n      return dataTheme\n    }\n\n    // Check system preference\n    return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'\n  }\n\n  @Watch('theme')\n  themeChanged(newValue: Theme) {\n    document.documentElement.setAttribute('data-theme', newValue)\n    document.documentElement.classList.remove('light', 'dark')\n    document.documentElement.classList.add(newValue)\n    localStorage.setItem('theme', newValue)\n  }\n\n  private handleClick = () => {\n    this.theme = this.theme === 'dark' ? 'light' : 'dark'\n  }\n\n  render() {\n    const nextTheme = this.theme === 'dark' ? 'light' : 'dark'\n\n    return (\n      <vui-button\n        part=\"button\"\n        variant=\"ghost\"\n        size=\"icon\"\n        onClick={this.handleClick}\n        aria-label={`Switch to ${nextTheme} theme`}\n      >\n        <vui-icon name={this.theme === 'dark' ? 'ic:outline-light-mode' : 'ic:outline-dark-mode'} size=\"md\" />\n      </vui-button>\n    )\n  }\n}\n","/*\n * anime.js v3.2.2\n * (c) 2023 Julian Garnier\n * Released under the MIT license\n * animejs.com\n */\n\n// Defaults\n\nvar defaultInstanceSettings = {\n  update: null,\n  begin: null,\n  loopBegin: null,\n  changeBegin: null,\n  change: null,\n  changeComplete: null,\n  loopComplete: null,\n  complete: null,\n  loop: 1,\n  direction: 'normal',\n  autoplay: true,\n  timelineOffset: 0\n};\n\nvar defaultTweenSettings = {\n  duration: 1000,\n  delay: 0,\n  endDelay: 0,\n  easing: 'easeOutElastic(1, .5)',\n  round: 0\n};\n\nvar validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective', 'matrix', 'matrix3d'];\n\n// Caching\n\nvar cache = {\n  CSS: {},\n  springs: {}\n};\n\n// Utils\n\nfunction minMax(val, min, max) {\n  return Math.min(Math.max(val, min), max);\n}\n\nfunction stringContains(str, text) {\n  return str.indexOf(text) > -1;\n}\n\nfunction applyArguments(func, args) {\n  return func.apply(null, args);\n}\n\nvar is = {\n  arr: function (a) { return Array.isArray(a); },\n  obj: function (a) { return stringContains(Object.prototype.toString.call(a), 'Object'); },\n  pth: function (a) { return is.obj(a) && a.hasOwnProperty('totalLength'); },\n  svg: function (a) { return a instanceof SVGElement; },\n  inp: function (a) { return a instanceof HTMLInputElement; },\n  dom: function (a) { return a.nodeType || is.svg(a); },\n  str: function (a) { return typeof a === 'string'; },\n  fnc: function (a) { return typeof a === 'function'; },\n  und: function (a) { return typeof a === 'undefined'; },\n  nil: function (a) { return is.und(a) || a === null; },\n  hex: function (a) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a); },\n  rgb: function (a) { return /^rgb/.test(a); },\n  hsl: function (a) { return /^hsl/.test(a); },\n  col: function (a) { return (is.hex(a) || is.rgb(a) || is.hsl(a)); },\n  key: function (a) { return !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes'; },\n};\n\n// Easings\n\nfunction parseEasingParameters(string) {\n  var match = /\\(([^)]+)\\)/.exec(string);\n  return match ? match[1].split(',').map(function (p) { return parseFloat(p); }) : [];\n}\n\n// Spring solver inspired by Webkit Copyright  2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js\n\nfunction spring(string, duration) {\n\n  var params = parseEasingParameters(string);\n  var mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);\n  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);\n  var damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);\n  var velocity =  minMax(is.und(params[3]) ? 0 : params[3], .1, 100);\n  var w0 = Math.sqrt(stiffness / mass);\n  var zeta = damping / (2 * Math.sqrt(stiffness * mass));\n  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n  var a = 1;\n  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n\n  function solver(t) {\n    var progress = duration ? (duration * t) / 1000 : t;\n    if (zeta < 1) {\n      progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n    } else {\n      progress = (a + b * progress) * Math.exp(-progress * w0);\n    }\n    if (t === 0 || t === 1) { return t; }\n    return 1 - progress;\n  }\n\n  function getDuration() {\n    var cached = cache.springs[string];\n    if (cached) { return cached; }\n    var frame = 1/6;\n    var elapsed = 0;\n    var rest = 0;\n    while(true) {\n      elapsed += frame;\n      if (solver(elapsed) === 1) {\n        rest++;\n        if (rest >= 16) { break; }\n      } else {\n        rest = 0;\n      }\n    }\n    var duration = elapsed * frame * 1000;\n    cache.springs[string] = duration;\n    return duration;\n  }\n\n  return duration ? solver : getDuration;\n\n}\n\n// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function\n\nfunction steps(steps) {\n  if ( steps === void 0 ) steps = 10;\n\n  return function (t) { return Math.ceil((minMax(t, 0.000001, 1)) * steps) * (1 / steps); };\n}\n\n// BezierEasing https://github.com/gre/bezier-easing\n\nvar bezier = (function () {\n\n  var kSplineTableSize = 11;\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 }\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 }\n  function C(aA1)      { return 3.0 * aA1 }\n\n  function calcBezier(aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT }\n  function getSlope(aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) }\n\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\n    var currentX, currentT, i = 0;\n    do {\n      currentT = aA + (aB - aA) / 2.0;\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\n      if (currentX > 0.0) { aB = currentT; } else { aA = currentT; }\n    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);\n    return currentT;\n  }\n\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n    for (var i = 0; i < 4; ++i) {\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\n      if (currentSlope === 0.0) { return aGuessT; }\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n      aGuessT -= currentX / currentSlope;\n    }\n    return aGuessT;\n  }\n\n  function bezier(mX1, mY1, mX2, mY2) {\n\n    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { return; }\n    var sampleValues = new Float32Array(kSplineTableSize);\n\n    if (mX1 !== mY1 || mX2 !== mY2) {\n      for (var i = 0; i < kSplineTableSize; ++i) {\n        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n      }\n    }\n\n    function getTForX(aX) {\n\n      var intervalStart = 0;\n      var currentSample = 1;\n      var lastSample = kSplineTableSize - 1;\n\n      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n\n      --currentSample;\n\n      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n      var guessForT = intervalStart + dist * kSampleStepSize;\n      var initialSlope = getSlope(guessForT, mX1, mX2);\n\n      if (initialSlope >= 0.001) {\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n      } else if (initialSlope === 0.0) {\n        return guessForT;\n      } else {\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n\n    }\n\n    return function (x) {\n      if (mX1 === mY1 && mX2 === mY2) { return x; }\n      if (x === 0 || x === 1) { return x; }\n      return calcBezier(getTForX(x), mY1, mY2);\n    }\n\n  }\n\n  return bezier;\n\n})();\n\nvar penner = (function () {\n\n  // Based on jQuery UI's implemenation of easing equations from Robert Penner (http://www.robertpenner.com/easing)\n\n  var eases = { linear: function () { return function (t) { return t; }; } };\n\n  var functionEasings = {\n    Sine: function () { return function (t) { return 1 - Math.cos(t * Math.PI / 2); }; },\n    Expo: function () { return function (t) { return t ? Math.pow(2, 10 * t - 10) : 0; }; },\n    Circ: function () { return function (t) { return 1 - Math.sqrt(1 - t * t); }; },\n    Back: function () { return function (t) { return t * t * (3 * t - 2); }; },\n    Bounce: function () { return function (t) {\n      var pow2, b = 4;\n      while (t < (( pow2 = Math.pow(2, --b)) - 1) / 11) {}\n      return 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow(( pow2 * 3 - 2 ) / 22 - t, 2)\n    }; },\n    Elastic: function (amplitude, period) {\n      if ( amplitude === void 0 ) amplitude = 1;\n      if ( period === void 0 ) period = .5;\n\n      var a = minMax(amplitude, 1, 10);\n      var p = minMax(period, .1, 2);\n      return function (t) {\n        return (t === 0 || t === 1) ? t : \n          -a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);\n      }\n    }\n  };\n\n  var baseEasings = ['Quad', 'Cubic', 'Quart', 'Quint'];\n\n  baseEasings.forEach(function (name, i) {\n    functionEasings[name] = function () { return function (t) { return Math.pow(t, i + 2); }; };\n  });\n\n  Object.keys(functionEasings).forEach(function (name) {\n    var easeIn = functionEasings[name];\n    eases['easeIn' + name] = easeIn;\n    eases['easeOut' + name] = function (a, b) { return function (t) { return 1 - easeIn(a, b)(1 - t); }; };\n    eases['easeInOut' + name] = function (a, b) { return function (t) { return t < 0.5 ? easeIn(a, b)(t * 2) / 2 : \n      1 - easeIn(a, b)(t * -2 + 2) / 2; }; };\n    eases['easeOutIn' + name] = function (a, b) { return function (t) { return t < 0.5 ? (1 - easeIn(a, b)(1 - t * 2)) / 2 : \n      (easeIn(a, b)(t * 2 - 1) + 1) / 2; }; };\n  });\n\n  return eases;\n\n})();\n\nfunction parseEasings(easing, duration) {\n  if (is.fnc(easing)) { return easing; }\n  var name = easing.split('(')[0];\n  var ease = penner[name];\n  var args = parseEasingParameters(easing);\n  switch (name) {\n    case 'spring' : return spring(easing, duration);\n    case 'cubicBezier' : return applyArguments(bezier, args);\n    case 'steps' : return applyArguments(steps, args);\n    default : return applyArguments(ease, args);\n  }\n}\n\n// Strings\n\nfunction selectString(str) {\n  try {\n    var nodes = document.querySelectorAll(str);\n    return nodes;\n  } catch(e) {\n    return;\n  }\n}\n\n// Arrays\n\nfunction filterArray(arr, callback) {\n  var len = arr.length;\n  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n  var result = [];\n  for (var i = 0; i < len; i++) {\n    if (i in arr) {\n      var val = arr[i];\n      if (callback.call(thisArg, val, i, arr)) {\n        result.push(val);\n      }\n    }\n  }\n  return result;\n}\n\nfunction flattenArray(arr) {\n  return arr.reduce(function (a, b) { return a.concat(is.arr(b) ? flattenArray(b) : b); }, []);\n}\n\nfunction toArray(o) {\n  if (is.arr(o)) { return o; }\n  if (is.str(o)) { o = selectString(o) || o; }\n  if (o instanceof NodeList || o instanceof HTMLCollection) { return [].slice.call(o); }\n  return [o];\n}\n\nfunction arrayContains(arr, val) {\n  return arr.some(function (a) { return a === val; });\n}\n\n// Objects\n\nfunction cloneObject(o) {\n  var clone = {};\n  for (var p in o) { clone[p] = o[p]; }\n  return clone;\n}\n\nfunction replaceObjectProps(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o1) { o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p]; }\n  return o;\n}\n\nfunction mergeObjects(o1, o2) {\n  var o = cloneObject(o1);\n  for (var p in o2) { o[p] = is.und(o1[p]) ? o2[p] : o1[p]; }\n  return o;\n}\n\n// Colors\n\nfunction rgbToRgba(rgbValue) {\n  var rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\n  return rgb ? (\"rgba(\" + (rgb[1]) + \",1)\") : rgbValue;\n}\n\nfunction hexToRgba(hexValue) {\n  var rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n  var hex = hexValue.replace(rgx, function (m, r, g, b) { return r + r + g + g + b + b; } );\n  var rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  var r = parseInt(rgb[1], 16);\n  var g = parseInt(rgb[2], 16);\n  var b = parseInt(rgb[3], 16);\n  return (\"rgba(\" + r + \",\" + g + \",\" + b + \",1)\");\n}\n\nfunction hslToRgba(hslValue) {\n  var hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\n  var h = parseInt(hsl[1], 10) / 360;\n  var s = parseInt(hsl[2], 10) / 100;\n  var l = parseInt(hsl[3], 10) / 100;\n  var a = hsl[4] || 1;\n  function hue2rgb(p, q, t) {\n    if (t < 0) { t += 1; }\n    if (t > 1) { t -= 1; }\n    if (t < 1/6) { return p + (q - p) * 6 * t; }\n    if (t < 1/2) { return q; }\n    if (t < 2/3) { return p + (q - p) * (2/3 - t) * 6; }\n    return p;\n  }\n  var r, g, b;\n  if (s == 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1/3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1/3);\n  }\n  return (\"rgba(\" + (r * 255) + \",\" + (g * 255) + \",\" + (b * 255) + \",\" + a + \")\");\n}\n\nfunction colorToRgb(val) {\n  if (is.rgb(val)) { return rgbToRgba(val); }\n  if (is.hex(val)) { return hexToRgba(val); }\n  if (is.hsl(val)) { return hslToRgba(val); }\n}\n\n// Units\n\nfunction getUnit(val) {\n  var split = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\n  if (split) { return split[1]; }\n}\n\nfunction getTransformUnit(propName) {\n  if (stringContains(propName, 'translate') || propName === 'perspective') { return 'px'; }\n  if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) { return 'deg'; }\n}\n\n// Values\n\nfunction getFunctionValue(val, animatable) {\n  if (!is.fnc(val)) { return val; }\n  return val(animatable.target, animatable.id, animatable.total);\n}\n\nfunction getAttribute(el, prop) {\n  return el.getAttribute(prop);\n}\n\nfunction convertPxToUnit(el, value, unit) {\n  var valueUnit = getUnit(value);\n  if (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit)) { return value; }\n  var cached = cache.CSS[value + unit];\n  if (!is.und(cached)) { return cached; }\n  var baseline = 100;\n  var tempEl = document.createElement(el.tagName);\n  var parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;\n  parentEl.appendChild(tempEl);\n  tempEl.style.position = 'absolute';\n  tempEl.style.width = baseline + unit;\n  var factor = baseline / tempEl.offsetWidth;\n  parentEl.removeChild(tempEl);\n  var convertedUnit = factor * parseFloat(value);\n  cache.CSS[value + unit] = convertedUnit;\n  return convertedUnit;\n}\n\nfunction getCSSValue(el, prop, unit) {\n  if (prop in el.style) {\n    var uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    var value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';\n    return unit ? convertPxToUnit(el, value, unit) : value;\n  }\n}\n\nfunction getAnimationType(el, prop) {\n  if (is.dom(el) && !is.inp(el) && (!is.nil(getAttribute(el, prop)) || (is.svg(el) && el[prop]))) { return 'attribute'; }\n  if (is.dom(el) && arrayContains(validTransforms, prop)) { return 'transform'; }\n  if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) { return 'css'; }\n  if (el[prop] != null) { return 'object'; }\n}\n\nfunction getElementTransforms(el) {\n  if (!is.dom(el)) { return; }\n  var str = el.style.transform || '';\n  var reg  = /(\\w+)\\(([^)]*)\\)/g;\n  var transforms = new Map();\n  var m; while (m = reg.exec(str)) { transforms.set(m[1], m[2]); }\n  return transforms;\n}\n\nfunction getTransformValue(el, propName, animatable, unit) {\n  var defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);\n  var value = getElementTransforms(el).get(propName) || defaultVal;\n  if (animatable) {\n    animatable.transforms.list.set(propName, value);\n    animatable.transforms['last'] = propName;\n  }\n  return unit ? convertPxToUnit(el, value, unit) : value;\n}\n\nfunction getOriginalTargetValue(target, propName, unit, animatable) {\n  switch (getAnimationType(target, propName)) {\n    case 'transform': return getTransformValue(target, propName, animatable, unit);\n    case 'css': return getCSSValue(target, propName, unit);\n    case 'attribute': return getAttribute(target, propName);\n    default: return target[propName] || 0;\n  }\n}\n\nfunction getRelativeValue(to, from) {\n  var operator = /^(\\*=|\\+=|-=)/.exec(to);\n  if (!operator) { return to; }\n  var u = getUnit(to) || 0;\n  var x = parseFloat(from);\n  var y = parseFloat(to.replace(operator[0], ''));\n  switch (operator[0][0]) {\n    case '+': return x + y + u;\n    case '-': return x - y + u;\n    case '*': return x * y + u;\n  }\n}\n\nfunction validateValue(val, unit) {\n  if (is.col(val)) { return colorToRgb(val); }\n  if (/\\s/g.test(val)) { return val; }\n  var originalUnit = getUnit(val);\n  var unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\n  if (unit) { return unitLess + unit; }\n  return unitLess;\n}\n\n// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes\n// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\n\nfunction getDistance(p1, p2) {\n  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));\n}\n\nfunction getCircleLength(el) {\n  return Math.PI * 2 * getAttribute(el, 'r');\n}\n\nfunction getRectLength(el) {\n  return (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);\n}\n\nfunction getLineLength(el) {\n  return getDistance(\n    {x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')}, \n    {x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}\n  );\n}\n\nfunction getPolylineLength(el) {\n  var points = el.points;\n  var totalLength = 0;\n  var previousPos;\n  for (var i = 0 ; i < points.numberOfItems; i++) {\n    var currentPos = points.getItem(i);\n    if (i > 0) { totalLength += getDistance(previousPos, currentPos); }\n    previousPos = currentPos;\n  }\n  return totalLength;\n}\n\nfunction getPolygonLength(el) {\n  var points = el.points;\n  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n}\n\n// Path animation\n\nfunction getTotalLength(el) {\n  if (el.getTotalLength) { return el.getTotalLength(); }\n  switch(el.tagName.toLowerCase()) {\n    case 'circle': return getCircleLength(el);\n    case 'rect': return getRectLength(el);\n    case 'line': return getLineLength(el);\n    case 'polyline': return getPolylineLength(el);\n    case 'polygon': return getPolygonLength(el);\n  }\n}\n\nfunction setDashoffset(el) {\n  var pathLength = getTotalLength(el);\n  el.setAttribute('stroke-dasharray', pathLength);\n  return pathLength;\n}\n\n// Motion path\n\nfunction getParentSvgEl(el) {\n  var parentEl = el.parentNode;\n  while (is.svg(parentEl)) {\n    if (!is.svg(parentEl.parentNode)) { break; }\n    parentEl = parentEl.parentNode;\n  }\n  return parentEl;\n}\n\nfunction getParentSvg(pathEl, svgData) {\n  var svg = svgData || {};\n  var parentSvgEl = svg.el || getParentSvgEl(pathEl);\n  var rect = parentSvgEl.getBoundingClientRect();\n  var viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');\n  var width = rect.width;\n  var height = rect.height;\n  var viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);\n  return {\n    el: parentSvgEl,\n    viewBox: viewBox,\n    x: viewBox[0] / 1,\n    y: viewBox[1] / 1,\n    w: width,\n    h: height,\n    vW: viewBox[2],\n    vH: viewBox[3]\n  }\n}\n\nfunction getPath(path, percent) {\n  var pathEl = is.str(path) ? selectString(path)[0] : path;\n  var p = percent || 100;\n  return function(property) {\n    return {\n      property: property,\n      el: pathEl,\n      svg: getParentSvg(pathEl),\n      totalLength: getTotalLength(pathEl) * (p / 100)\n    }\n  }\n}\n\nfunction getPathProgress(path, progress, isPathTargetInsideSVG) {\n  function point(offset) {\n    if ( offset === void 0 ) offset = 0;\n\n    var l = progress + offset >= 1 ? progress + offset : 0;\n    return path.el.getPointAtLength(l);\n  }\n  var svg = getParentSvg(path.el, path.svg);\n  var p = point();\n  var p0 = point(-1);\n  var p1 = point(+1);\n  var scaleX = isPathTargetInsideSVG ? 1 : svg.w / svg.vW;\n  var scaleY = isPathTargetInsideSVG ? 1 : svg.h / svg.vH;\n  switch (path.property) {\n    case 'x': return (p.x - svg.x) * scaleX;\n    case 'y': return (p.y - svg.y) * scaleY;\n    case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n  }\n}\n\n// Decompose value\n\nfunction decomposeValue(val, unit) {\n  // const rgx = /-?\\d*\\.?\\d+/g; // handles basic numbers\n  // const rgx = /[+-]?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var rgx = /[+-]?\\d*\\.?\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?/g; // handles exponents notation\n  var value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\n  return {\n    original: value,\n    numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\n    strings: (is.str(val) || unit) ? value.split(rgx) : []\n  }\n}\n\n// Animatables\n\nfunction parseTargets(targets) {\n  var targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\n  return filterArray(targetsArray, function (item, pos, self) { return self.indexOf(item) === pos; });\n}\n\nfunction getAnimatables(targets) {\n  var parsed = parseTargets(targets);\n  return parsed.map(function (t, i) {\n    return {target: t, id: i, total: parsed.length, transforms: { list: getElementTransforms(t) } };\n  });\n}\n\n// Properties\n\nfunction normalizePropertyTweens(prop, tweenSettings) {\n  var settings = cloneObject(tweenSettings);\n  // Override duration if easing is a spring\n  if (/^spring/.test(settings.easing)) { settings.duration = spring(settings.easing); }\n  if (is.arr(prop)) {\n    var l = prop.length;\n    var isFromTo = (l === 2 && !is.obj(prop[0]));\n    if (!isFromTo) {\n      // Duration divided by the number of tweens\n      if (!is.fnc(tweenSettings.duration)) { settings.duration = tweenSettings.duration / l; }\n    } else {\n      // Transform [from, to] values shorthand to a valid tween value\n      prop = {value: prop};\n    }\n  }\n  var propArray = is.arr(prop) ? prop : [prop];\n  return propArray.map(function (v, i) {\n    var obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};\n    // Default delay value should only be applied to the first tween\n    if (is.und(obj.delay)) { obj.delay = !i ? tweenSettings.delay : 0; }\n    // Default endDelay value should only be applied to the last tween\n    if (is.und(obj.endDelay)) { obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0; }\n    return obj;\n  }).map(function (k) { return mergeObjects(k, settings); });\n}\n\n\nfunction flattenKeyframes(keyframes) {\n  var propertyNames = filterArray(flattenArray(keyframes.map(function (key) { return Object.keys(key); })), function (p) { return is.key(p); })\n  .reduce(function (a,b) { if (a.indexOf(b) < 0) { a.push(b); } return a; }, []);\n  var properties = {};\n  var loop = function ( i ) {\n    var propName = propertyNames[i];\n    properties[propName] = keyframes.map(function (key) {\n      var newKey = {};\n      for (var p in key) {\n        if (is.key(p)) {\n          if (p == propName) { newKey.value = key[p]; }\n        } else {\n          newKey[p] = key[p];\n        }\n      }\n      return newKey;\n    });\n  };\n\n  for (var i = 0; i < propertyNames.length; i++) loop( i );\n  return properties;\n}\n\nfunction getProperties(tweenSettings, params) {\n  var properties = [];\n  var keyframes = params.keyframes;\n  if (keyframes) { params = mergeObjects(flattenKeyframes(keyframes), params); }\n  for (var p in params) {\n    if (is.key(p)) {\n      properties.push({\n        name: p,\n        tweens: normalizePropertyTweens(params[p], tweenSettings)\n      });\n    }\n  }\n  return properties;\n}\n\n// Tweens\n\nfunction normalizeTweenValues(tween, animatable) {\n  var t = {};\n  for (var p in tween) {\n    var value = getFunctionValue(tween[p], animatable);\n    if (is.arr(value)) {\n      value = value.map(function (v) { return getFunctionValue(v, animatable); });\n      if (value.length === 1) { value = value[0]; }\n    }\n    t[p] = value;\n  }\n  t.duration = parseFloat(t.duration);\n  t.delay = parseFloat(t.delay);\n  return t;\n}\n\nfunction normalizeTweens(prop, animatable) {\n  var previousTween;\n  return prop.tweens.map(function (t) {\n    var tween = normalizeTweenValues(t, animatable);\n    var tweenValue = tween.value;\n    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;\n    var toUnit = getUnit(to);\n    var originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);\n    var previousValue = previousTween ? previousTween.to.original : originalValue;\n    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\n    var fromUnit = getUnit(from) || getUnit(originalValue);\n    var unit = toUnit || fromUnit;\n    if (is.und(to)) { to = previousValue; }\n    tween.from = decomposeValue(from, unit);\n    tween.to = decomposeValue(getRelativeValue(to, from), unit);\n    tween.start = previousTween ? previousTween.end : 0;\n    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;\n    tween.easing = parseEasings(tween.easing, tween.duration);\n    tween.isPath = is.pth(tweenValue);\n    tween.isPathTargetInsideSVG = tween.isPath && is.svg(animatable.target);\n    tween.isColor = is.col(tween.from.original);\n    if (tween.isColor) { tween.round = 1; }\n    previousTween = tween;\n    return tween;\n  });\n}\n\n// Tween progress\n\nvar setProgressValue = {\n  css: function (t, p, v) { return t.style[p] = v; },\n  attribute: function (t, p, v) { return t.setAttribute(p, v); },\n  object: function (t, p, v) { return t[p] = v; },\n  transform: function (t, p, v, transforms, manual) {\n    transforms.list.set(p, v);\n    if (p === transforms.last || manual) {\n      var str = '';\n      transforms.list.forEach(function (value, prop) { str += prop + \"(\" + value + \") \"; });\n      t.style.transform = str;\n    }\n  }\n};\n\n// Set Value helper\n\nfunction setTargetsValue(targets, properties) {\n  var animatables = getAnimatables(targets);\n  animatables.forEach(function (animatable) {\n    for (var property in properties) {\n      var value = getFunctionValue(properties[property], animatable);\n      var target = animatable.target;\n      var valueUnit = getUnit(value);\n      var originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);\n      var unit = valueUnit || getUnit(originalValue);\n      var to = getRelativeValue(validateValue(value, unit), originalValue);\n      var animType = getAnimationType(target, property);\n      setProgressValue[animType](target, property, to, animatable.transforms, true);\n    }\n  });\n}\n\n// Animations\n\nfunction createAnimation(animatable, prop) {\n  var animType = getAnimationType(animatable.target, prop.name);\n  if (animType) {\n    var tweens = normalizeTweens(prop, animatable);\n    var lastTween = tweens[tweens.length - 1];\n    return {\n      type: animType,\n      property: prop.name,\n      animatable: animatable,\n      tweens: tweens,\n      duration: lastTween.end,\n      delay: tweens[0].delay,\n      endDelay: lastTween.endDelay\n    }\n  }\n}\n\nfunction getAnimations(animatables, properties) {\n  return filterArray(flattenArray(animatables.map(function (animatable) {\n    return properties.map(function (prop) {\n      return createAnimation(animatable, prop);\n    });\n  })), function (a) { return !is.und(a); });\n}\n\n// Create Instance\n\nfunction getInstanceTimings(animations, tweenSettings) {\n  var animLength = animations.length;\n  var getTlOffset = function (anim) { return anim.timelineOffset ? anim.timelineOffset : 0; };\n  var timings = {};\n  timings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration; })) : tweenSettings.duration;\n  timings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.delay; })) : tweenSettings.delay;\n  timings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration - anim.endDelay; })) : tweenSettings.endDelay;\n  return timings;\n}\n\nvar instanceID = 0;\n\nfunction createNewInstance(params) {\n  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\n  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);\n  var properties = getProperties(tweenSettings, params);\n  var animatables = getAnimatables(params.targets);\n  var animations = getAnimations(animatables, properties);\n  var timings = getInstanceTimings(animations, tweenSettings);\n  var id = instanceID;\n  instanceID++;\n  return mergeObjects(instanceSettings, {\n    id: id,\n    children: [],\n    animatables: animatables,\n    animations: animations,\n    duration: timings.duration,\n    delay: timings.delay,\n    endDelay: timings.endDelay\n  });\n}\n\n// Core\n\nvar activeInstances = [];\n\nvar engine = (function () {\n  var raf;\n\n  function play() {\n    if (!raf && (!isDocumentHidden() || !anime.suspendWhenDocumentHidden) && activeInstances.length > 0) {\n      raf = requestAnimationFrame(step);\n    }\n  }\n  function step(t) {\n    // memo on algorithm issue:\n    // dangerous iteration over mutable `activeInstances`\n    // (that collection may be updated from within callbacks of `tick`-ed animation instances)\n    var activeInstancesLength = activeInstances.length;\n    var i = 0;\n    while (i < activeInstancesLength) {\n      var activeInstance = activeInstances[i];\n      if (!activeInstance.paused) {\n        activeInstance.tick(t);\n        i++;\n      } else {\n        activeInstances.splice(i, 1);\n        activeInstancesLength--;\n      }\n    }\n    raf = i > 0 ? requestAnimationFrame(step) : undefined;\n  }\n\n  function handleVisibilityChange() {\n    if (!anime.suspendWhenDocumentHidden) { return; }\n\n    if (isDocumentHidden()) {\n      // suspend ticks\n      raf = cancelAnimationFrame(raf);\n    } else { // is back to active tab\n      // first adjust animations to consider the time that ticks were suspended\n      activeInstances.forEach(\n        function (instance) { return instance ._onDocumentVisibility(); }\n      );\n      engine();\n    }\n  }\n  if (typeof document !== 'undefined') {\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n  }\n\n  return play;\n})();\n\nfunction isDocumentHidden() {\n  return !!document && document.hidden;\n}\n\n// Public Instance\n\nfunction anime(params) {\n  if ( params === void 0 ) params = {};\n\n\n  var startTime = 0, lastTime = 0, now = 0;\n  var children, childrenLength = 0;\n  var resolve = null;\n\n  function makePromise(instance) {\n    var promise = window.Promise && new Promise(function (_resolve) { return resolve = _resolve; });\n    instance.finished = promise;\n    return promise;\n  }\n\n  var instance = createNewInstance(params);\n  var promise = makePromise(instance);\n\n  function toggleInstanceDirection() {\n    var direction = instance.direction;\n    if (direction !== 'alternate') {\n      instance.direction = direction !== 'normal' ? 'normal' : 'reverse';\n    }\n    instance.reversed = !instance.reversed;\n    children.forEach(function (child) { return child.reversed = instance.reversed; });\n  }\n\n  function adjustTime(time) {\n    return instance.reversed ? instance.duration - time : time;\n  }\n\n  function resetTime() {\n    startTime = 0;\n    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);\n  }\n\n  function seekChild(time, child) {\n    if (child) { child.seek(time - child.timelineOffset); }\n  }\n\n  function syncInstanceChildren(time) {\n    if (!instance.reversePlayback) {\n      for (var i = 0; i < childrenLength; i++) { seekChild(time, children[i]); }\n    } else {\n      for (var i$1 = childrenLength; i$1--;) { seekChild(time, children[i$1]); }\n    }\n  }\n\n  function setAnimationsProgress(insTime) {\n    var i = 0;\n    var animations = instance.animations;\n    var animationsLength = animations.length;\n    while (i < animationsLength) {\n      var anim = animations[i];\n      var animatable = anim.animatable;\n      var tweens = anim.tweens;\n      var tweenLength = tweens.length - 1;\n      var tween = tweens[tweenLength];\n      // Only check for keyframes if there is more than one tween\n      if (tweenLength) { tween = filterArray(tweens, function (t) { return (insTime < t.end); })[0] || tween; }\n      var elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\n      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);\n      var strings = tween.to.strings;\n      var round = tween.round;\n      var numbers = [];\n      var toNumbersLength = tween.to.numbers.length;\n      var progress = (void 0);\n      for (var n = 0; n < toNumbersLength; n++) {\n        var value = (void 0);\n        var toNumber = tween.to.numbers[n];\n        var fromNumber = tween.from.numbers[n] || 0;\n        if (!tween.isPath) {\n          value = fromNumber + (eased * (toNumber - fromNumber));\n        } else {\n          value = getPathProgress(tween.value, eased * toNumber, tween.isPathTargetInsideSVG);\n        }\n        if (round) {\n          if (!(tween.isColor && n > 2)) {\n            value = Math.round(value * round) / round;\n          }\n        }\n        numbers.push(value);\n      }\n      // Manual Array.reduce for better performances\n      var stringsLength = strings.length;\n      if (!stringsLength) {\n        progress = numbers[0];\n      } else {\n        progress = strings[0];\n        for (var s = 0; s < stringsLength; s++) {\n          var a = strings[s];\n          var b = strings[s + 1];\n          var n$1 = numbers[s];\n          if (!isNaN(n$1)) {\n            if (!b) {\n              progress += n$1 + ' ';\n            } else {\n              progress += n$1 + b;\n            }\n          }\n        }\n      }\n      setProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);\n      anim.currentValue = progress;\n      i++;\n    }\n  }\n\n  function setCallback(cb) {\n    if (instance[cb] && !instance.passThrough) { instance[cb](instance); }\n  }\n\n  function countIteration() {\n    if (instance.remaining && instance.remaining !== true) {\n      instance.remaining--;\n    }\n  }\n\n  function setInstanceProgress(engineTime) {\n    var insDuration = instance.duration;\n    var insDelay = instance.delay;\n    var insEndDelay = insDuration - instance.endDelay;\n    var insTime = adjustTime(engineTime);\n    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);\n    instance.reversePlayback = insTime < instance.currentTime;\n    if (children) { syncInstanceChildren(insTime); }\n    if (!instance.began && instance.currentTime > 0) {\n      instance.began = true;\n      setCallback('begin');\n    }\n    if (!instance.loopBegan && instance.currentTime > 0) {\n      instance.loopBegan = true;\n      setCallback('loopBegin');\n    }\n    if (insTime <= insDelay && instance.currentTime !== 0) {\n      setAnimationsProgress(0);\n    }\n    if ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration) {\n      setAnimationsProgress(insDuration);\n    }\n    if (insTime > insDelay && insTime < insEndDelay) {\n      if (!instance.changeBegan) {\n        instance.changeBegan = true;\n        instance.changeCompleted = false;\n        setCallback('changeBegin');\n      }\n      setCallback('change');\n      setAnimationsProgress(insTime);\n    } else {\n      if (instance.changeBegan) {\n        instance.changeCompleted = true;\n        instance.changeBegan = false;\n        setCallback('changeComplete');\n      }\n    }\n    instance.currentTime = minMax(insTime, 0, insDuration);\n    if (instance.began) { setCallback('update'); }\n    if (engineTime >= insDuration) {\n      lastTime = 0;\n      countIteration();\n      if (!instance.remaining) {\n        instance.paused = true;\n        if (!instance.completed) {\n          instance.completed = true;\n          setCallback('loopComplete');\n          setCallback('complete');\n          if (!instance.passThrough && 'Promise' in window) {\n            resolve();\n            promise = makePromise(instance);\n          }\n        }\n      } else {\n        startTime = now;\n        setCallback('loopComplete');\n        instance.loopBegan = false;\n        if (instance.direction === 'alternate') {\n          toggleInstanceDirection();\n        }\n      }\n    }\n  }\n\n  instance.reset = function() {\n    var direction = instance.direction;\n    instance.passThrough = false;\n    instance.currentTime = 0;\n    instance.progress = 0;\n    instance.paused = true;\n    instance.began = false;\n    instance.loopBegan = false;\n    instance.changeBegan = false;\n    instance.completed = false;\n    instance.changeCompleted = false;\n    instance.reversePlayback = false;\n    instance.reversed = direction === 'reverse';\n    instance.remaining = instance.loop;\n    children = instance.children;\n    childrenLength = children.length;\n    for (var i = childrenLength; i--;) { instance.children[i].reset(); }\n    if (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1)) { instance.remaining++; }\n    setAnimationsProgress(instance.reversed ? instance.duration : 0);\n  };\n\n  // internal method (for engine) to adjust animation timings before restoring engine ticks (rAF)\n  instance._onDocumentVisibility = resetTime;\n\n  // Set Value helper\n\n  instance.set = function(targets, properties) {\n    setTargetsValue(targets, properties);\n    return instance;\n  };\n\n  instance.tick = function(t) {\n    now = t;\n    if (!startTime) { startTime = now; }\n    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);\n  };\n\n  instance.seek = function(time) {\n    setInstanceProgress(adjustTime(time));\n  };\n\n  instance.pause = function() {\n    instance.paused = true;\n    resetTime();\n  };\n\n  instance.play = function() {\n    if (!instance.paused) { return; }\n    if (instance.completed) { instance.reset(); }\n    instance.paused = false;\n    activeInstances.push(instance);\n    resetTime();\n    engine();\n  };\n\n  instance.reverse = function() {\n    toggleInstanceDirection();\n    instance.completed = instance.reversed ? false : true;\n    resetTime();\n  };\n\n  instance.restart = function() {\n    instance.reset();\n    instance.play();\n  };\n\n  instance.remove = function(targets) {\n    var targetsArray = parseTargets(targets);\n    removeTargetsFromInstance(targetsArray, instance);\n  };\n\n  instance.reset();\n\n  if (instance.autoplay) { instance.play(); }\n\n  return instance;\n\n}\n\n// Remove targets from animation\n\nfunction removeTargetsFromAnimations(targetsArray, animations) {\n  for (var a = animations.length; a--;) {\n    if (arrayContains(targetsArray, animations[a].animatable.target)) {\n      animations.splice(a, 1);\n    }\n  }\n}\n\nfunction removeTargetsFromInstance(targetsArray, instance) {\n  var animations = instance.animations;\n  var children = instance.children;\n  removeTargetsFromAnimations(targetsArray, animations);\n  for (var c = children.length; c--;) {\n    var child = children[c];\n    var childAnimations = child.animations;\n    removeTargetsFromAnimations(targetsArray, childAnimations);\n    if (!childAnimations.length && !child.children.length) { children.splice(c, 1); }\n  }\n  if (!animations.length && !children.length) { instance.pause(); }\n}\n\nfunction removeTargetsFromActiveInstances(targets) {\n  var targetsArray = parseTargets(targets);\n  for (var i = activeInstances.length; i--;) {\n    var instance = activeInstances[i];\n    removeTargetsFromInstance(targetsArray, instance);\n  }\n}\n\n// Stagger helpers\n\nfunction stagger(val, params) {\n  if ( params === void 0 ) params = {};\n\n  var direction = params.direction || 'normal';\n  var easing = params.easing ? parseEasings(params.easing) : null;\n  var grid = params.grid;\n  var axis = params.axis;\n  var fromIndex = params.from || 0;\n  var fromFirst = fromIndex === 'first';\n  var fromCenter = fromIndex === 'center';\n  var fromLast = fromIndex === 'last';\n  var isRange = is.arr(val);\n  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);\n  var val2 = isRange ? parseFloat(val[1]) : 0;\n  var unit = getUnit(isRange ? val[1] : val) || 0;\n  var start = params.start || 0 + (isRange ? val1 : 0);\n  var values = [];\n  var maxValue = 0;\n  return function (el, i, t) {\n    if (fromFirst) { fromIndex = 0; }\n    if (fromCenter) { fromIndex = (t - 1) / 2; }\n    if (fromLast) { fromIndex = t - 1; }\n    if (!values.length) {\n      for (var index = 0; index < t; index++) {\n        if (!grid) {\n          values.push(Math.abs(fromIndex - index));\n        } else {\n          var fromX = !fromCenter ? fromIndex%grid[0] : (grid[0]-1)/2;\n          var fromY = !fromCenter ? Math.floor(fromIndex/grid[0]) : (grid[1]-1)/2;\n          var toX = index%grid[0];\n          var toY = Math.floor(index/grid[0]);\n          var distanceX = fromX - toX;\n          var distanceY = fromY - toY;\n          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);\n          if (axis === 'x') { value = -distanceX; }\n          if (axis === 'y') { value = -distanceY; }\n          values.push(value);\n        }\n        maxValue = Math.max.apply(Math, values);\n      }\n      if (easing) { values = values.map(function (val) { return easing(val / maxValue) * maxValue; }); }\n      if (direction === 'reverse') { values = values.map(function (val) { return axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val); }); }\n    }\n    var spacing = isRange ? (val2 - val1) / maxValue : val1;\n    return start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;\n  }\n}\n\n// Timeline\n\nfunction timeline(params) {\n  if ( params === void 0 ) params = {};\n\n  var tl = anime(params);\n  tl.duration = 0;\n  tl.add = function(instanceParams, timelineOffset) {\n    var tlIndex = activeInstances.indexOf(tl);\n    var children = tl.children;\n    if (tlIndex > -1) { activeInstances.splice(tlIndex, 1); }\n    function passThrough(ins) { ins.passThrough = true; }\n    for (var i = 0; i < children.length; i++) { passThrough(children[i]); }\n    var insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));\n    insParams.targets = insParams.targets || params.targets;\n    var tlDuration = tl.duration;\n    insParams.autoplay = false;\n    insParams.direction = tl.direction;\n    insParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);\n    passThrough(tl);\n    tl.seek(insParams.timelineOffset);\n    var ins = anime(insParams);\n    passThrough(ins);\n    children.push(ins);\n    var timings = getInstanceTimings(children, params);\n    tl.delay = timings.delay;\n    tl.endDelay = timings.endDelay;\n    tl.duration = timings.duration;\n    tl.seek(0);\n    tl.reset();\n    if (tl.autoplay) { tl.play(); }\n    return tl;\n  };\n  return tl;\n}\n\nanime.version = '3.2.1';\nanime.speed = 1;\n// TODO:#review: naming, documentation\nanime.suspendWhenDocumentHidden = true;\nanime.running = activeInstances;\nanime.remove = removeTargetsFromActiveInstances;\nanime.get = getOriginalTargetValue;\nanime.set = setTargetsValue;\nanime.convertPx = convertPxToUnit;\nanime.path = getPath;\nanime.setDashoffset = setDashoffset;\nanime.stagger = stagger;\nanime.timeline = timeline;\nanime.easing = parseEasings;\nanime.penner = penner;\nanime.random = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };\n\nexport default anime;\n",":host {\n  --inner-toast-width: var(--toast-width, 388px);\n  --inner-toast-padding: var(--toast-padding, 1rem);\n\n  position: fixed;\n  z-index: 100;\n  display: flex;\n  flex-direction: column;\n  gap: 0;\n  padding: 0;\n  pointer-events: none;\n  font-family: var(--font-family);\n  font-size: 0.875rem;\n  width: calc(100% - var(--inner-toast-padding));\n  max-width: var(--inner-toast-width);\n  perspective: 1000px;\n  box-sizing: border-box;\n}\n\n:host(.top-center) {\n  top: var(--inner-toast-padding);\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n:host(.top-left) {\n  top: var(--inner-toast-padding);\n  left: var(--inner-toast-padding);\n}\n\n:host(.top-right) {\n  top: var(--inner-toast-padding);\n  right: var(--inner-toast-padding);\n}\n\n:host(.bottom-left) {\n  bottom: var(--inner-toast-padding);\n  left: var(--inner-toast-padding);\n}\n\n:host(.bottom-center) {\n  bottom: var(--inner-toast-padding);\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n:host(.bottom-right) {\n  bottom: var(--inner-toast-padding);\n  right: var(--inner-toast-padding);\n}\n\n/* Default theme */\n/* :host([theme='default']) .toast {\n  background: hsl(var(--background));\n  color: hsl(var(--foreground));\n}\n\n:host([theme='default']) .description {\n  color: hsl(var(--muted-foreground));\n} */\n\n.toast {\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 0.5rem;\n  padding: var(--inner-toast-padding);\n  background: hsl(var(--background));\n  color: hsl(var(--foreground));\n  border-radius: var(--radius);\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n  pointer-events: auto;\n  width: var(--inner-toast-width);\n  margin: 0;\n  transform-origin: center bottom;\n  backface-visibility: hidden;\n  transform-style: preserve-3d;\n  box-sizing: border-box;\n  opacity: 0;\n  bottom: auto;\n}\n\n/* Light theme */\n:host([theme='light']) .toast {\n  background: hsl(var(--light-background));\n  color: hsl(var(--light-foreground));\n}\n\n:host([theme='light']) .description {\n  color: hsl(var(--light-muted-foreground));\n}\n\n:host([theme='light']) ::part(button):hover {\n  background-color: hsl(var(--light-background) / 0.1);\n}\n\n:host([theme='light']) ::part(icon) {\n  color: hsl(var(--light-foreground));\n}\n\n/* Dark theme */\n:host([theme='dark']) .toast {\n  background: hsl(var(--dark-background)) !important;\n  color: hsl(var(--dark-foreground)) !important;\n}\n\n:host([theme='dark']) .description,\n.dark :host([theme='dark']) .description {\n  color: hsl(var(--dark-muted-foreground));\n}\n\n:host([theme='dark']) ::part(button):hover {\n  background-color: hsl(var(--background) / 0.1);\n}\n\n:host([theme='dark']) ::part(icon) {\n  color: hsl(var(--dark-foreground));\n}\n\n/* Inverted theme */\n:host([theme='inverted']) .toast {\n  background: hsl(var(--inverted-background));\n  color: hsl(var(--inverted-foreground));\n}\n\n:host([theme='inverted']) ::part(button):hover {\n  background-color: hsl(var(--inverted-background));\n}\n\n:host([theme='inverted']) ::part(icon) {\n  color: hsl(var(--inverted-foreground));\n}\n\n.toast.stacked {\n  position: absolute;\n  will-change: transform;\n}\n\n.content {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  flex: 1;\n  min-width: 0;\n}\n\n.text {\n  flex: 1;\n  min-width: 0;\n}\n\n.title {\n  font-weight: 500;\n  line-height: 1.4;\n}\n\n.description {\n  font-size: 0.875rem;\n  color: hsl(var(--toast-description-color));\n  line-height: 1.4;\n}\n\n.toast-region {\n  position: absolute;\n  pointer-events: auto;\n  width: 100%;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n}\n\n.toast.removed {\n  opacity: 0 !important;\n  display: none !important;\n  visibility: hidden !important;\n}\n\n/* For top positions, align to top */\n:host(.top-left) .toast-region,\n:host(.top-center) .toast-region,\n:host(.top-right) .toast-region {\n  top: 0;\n  bottom: auto;\n  justify-content: flex-start;\n}\n\n/* For bottom positions, align to bottom */\n:host(.bottom-left) .toast-region,\n:host(.bottom-center) .toast-region,\n:host(.bottom-right) .toast-region {\n  top: auto;\n  bottom: 0;\n  justify-content: flex-end;\n}\n\n/* Force dark mode by adding [data-force-dark] attribute */\n:host([data-force-dark]) .toast,\n:host([theme='dark']) .toast {\n  background-color: hsl(var(--toast-foreground));\n  color: hsl(var(--toast-background));\n}\n\n:host([data-force-dark]) .description,\n:host([theme='dark']) .description {\n  color: hsl(var(--toast-description-color));\n}\n\n/* Debug styles - add these temporarily to verify the colors */\n/* :host([theme='dark']) .toast {\n  border: 2px solid red;\n} */\n","import { Component, Event, EventEmitter, Host, Method, Prop, State, h } from '@stencil/core'\nimport { ToastProps, ToastType } from './toast-interfaces'\n\nimport anime from 'animejs'\n\n@Component({\n  tag: 'vui-toast',\n  styleUrl: 'toast.css',\n  shadow: true,\n})\nexport class Toast {\n  // Configuration props\n  @Prop() position: 'top-left' | 'top-center' | 'top-right' | 'bottom-left' | 'bottom-center' | 'bottom-right' =\n    'bottom-right'\n  @Prop({ reflect: true }) theme: 'default' | 'light' | 'dark' | 'inverted' = 'default'\n  @Prop() gap = 8\n  @Prop() duration = 4000 // Duration in ms before toast auto-dismisses\n\n  // State management\n  @State() toasts: ToastProps[] = []\n  @State() expanded = false // Tracks if toast stack is expanded on hover\n\n  // Event emitter for toast dismissal\n  @Event() dismiss: EventEmitter<string>\n\n  // Constants\n  private readonly MAX_TOASTS = 3\n\n  // Internal tracking maps\n  private toastRefs: Map<string, HTMLElement> = new Map()\n  private heights: Map<string, number> = new Map()\n  private toastTimeouts: Map<string, number> = new Map()\n  private remainingDurations: Map<string, number> = new Map()\n  private toastRegionRef?: HTMLDivElement\n\n  private static readonly ANIMATION_CONFIG = {\n    duration: 150,\n    easing: 'easeOutCubic',\n    defaultOffset: 50,\n    properties: {\n      enter: {\n        opacity: [0, 1],\n      },\n      exit: {\n        opacity: [1, 0],\n        scale: 0.9,\n      },\n    },\n  }\n\n  /**\n   * Shows a new toast notification\n   * @param toast - Toast properties without ID\n   * @returns Generated toast ID\n   */\n  @Method()\n  async show(toast: Omit<ToastProps, 'id'>) {\n    const id = Math.random().toString(36).substring(2, 9)\n    const newToast = {\n      id,\n      type: 'default' as ToastType,\n      duration: this.duration, // how long the toast will be visible\n      dismissible: true,\n      height: 0,\n      isNew: true,\n      startTime: Date.now(),\n      ...toast,\n    }\n\n    if (this.toasts.length >= this.MAX_TOASTS) {\n      const oldestToast = this.toasts[0]\n      this.removeToast(oldestToast.id)\n    }\n\n    this.toasts = [...this.toasts, newToast]\n\n    setTimeout(() => {\n      this.toasts = this.toasts.map(t => (t.id === id ? { ...t, isNew: false } : t))\n    }, 100)\n\n    setTimeout(() => {\n      const element = this.toastRefs.get(id)\n      if (element) {\n        const height = element.offsetHeight\n        this.heights.set(id, height)\n      }\n    }, 100)\n\n    if (newToast.duration && newToast.type !== 'loading') {\n      const timeout = window.setTimeout(() => {\n        this.removeToast(id)\n      }, newToast.duration)\n      this.toastTimeouts.set(id, timeout)\n    }\n\n    return id\n  }\n\n  @Method()\n  async update(id: string, toast: Partial<ToastProps>) {\n    this.toasts = this.toasts.map(t => {\n      if (t.id === id) {\n        return { ...t, ...toast }\n      }\n      return t\n    })\n  }\n  @Method()\n  async dismissToast(id: string) {\n    this.removeToast(id)\n  }\n\n  /**\n   * Handles toast removal with animation\n   */\n  private removeToast(id: string) {\n    const timeout = this.toastTimeouts.get(id)\n    if (timeout) {\n      clearTimeout(timeout)\n      this.toastTimeouts.delete(id)\n    }\n\n    const toast = this.toasts.find(t => t.id === id)\n    if (toast) {\n      this.toasts = this.toasts.map(t => (t.id === id ? { ...t, removing: true } : t))\n\n      const element = this.toastRefs.get(id)\n      if (element) {\n        element.classList.add('removed')\n\n        const isTopPosition = this.position.startsWith('top-')\n        const exitOffset = isTopPosition ? -Toast.ANIMATION_CONFIG.defaultOffset : Toast.ANIMATION_CONFIG.defaultOffset\n\n        try {\n          anime({\n            targets: element,\n            ...Toast.ANIMATION_CONFIG.properties.exit,\n            translateY: [0, exitOffset],\n            duration: Toast.ANIMATION_CONFIG.duration,\n            easing: Toast.ANIMATION_CONFIG.easing,\n          })\n        } catch (e) {\n          console.warn('Toast animation failed:', e)\n        }\n      }\n\n      this.toastRefs.delete(id)\n      this.heights.delete(id)\n\n      setTimeout(() => {\n        this.toasts = this.toasts.filter(t => t.id !== id)\n        this.dismiss.emit(id)\n      }, 150)\n    }\n  }\n\n  /**\n   * Pause toast timeouts on mouse enter\n   */\n  private handleMouseEnter = () => {\n    this.expanded = true\n    this.updateToastRegionHeight()\n    this.toastTimeouts.forEach((timeout, id) => {\n      const toast = this.toasts.find(t => t.id === id)\n      if (toast) {\n        const elapsed = Date.now() - (toast as any).startTime\n        const remaining = toast.duration - elapsed\n        this.remainingDurations.set(id, remaining > 0 ? remaining : 0)\n      }\n      clearTimeout(timeout)\n    })\n  }\n\n  /**\n   * Resume toast timeouts on mouse leave\n   */\n  private handleMouseLeave = () => {\n    this.expanded = false\n    this.updateToastRegionHeight()\n    this.toasts.forEach(toast => {\n      if (toast.duration && toast.type !== 'loading') {\n        const remaining = this.remainingDurations.get(toast.id) || toast.duration\n        const timeout = window.setTimeout(() => {\n          this.removeToast(toast.id)\n        }, remaining)\n        this.toastTimeouts.set(toast.id, timeout)\n      }\n    })\n  }\n\n  /**\n   * Animation helpers\n   */\n  private calculateExpandedOffset(index: number): number {\n    if (index === this.toasts.length - 1) return 0\n\n    const isTopPosition = this.position.startsWith('top-')\n    let offset = 0\n\n    if (isTopPosition) {\n      for (let i = index + 1; i < this.toasts.length; i++) {\n        const toast = this.toasts[i]\n        const height = this.heights.get(toast.id) || 0\n        offset += height + this.gap\n      }\n    } else {\n      for (let i = this.toasts.length - 1; i > index; i--) {\n        const toast = this.toasts[i]\n        const height = this.heights.get(toast.id) || 0\n        offset -= height + this.gap\n      }\n    }\n    return offset\n  }\n\n  private animateToast(element: HTMLElement, index: number) {\n    const toastsBefore = this.toasts.length - index - 1\n    const isTopPosition = this.position.startsWith('top-')\n\n    const stackedOffset = isTopPosition ? toastsBefore * this.gap : -(toastsBefore * this.gap)\n    const expandedOffset = this.calculateExpandedOffset(index)\n    const offset = this.expanded ? expandedOffset : stackedOffset\n    const baseScale = this.expanded ? 1 : 1 - toastsBefore * 0.05\n    const translateZ = this.expanded ? 0 : -toastsBefore * 10\n\n    if (this.toasts[index].isNew) {\n      const entranceOffset = isTopPosition\n        ? -Toast.ANIMATION_CONFIG.defaultOffset\n        : Toast.ANIMATION_CONFIG.defaultOffset\n\n      anime({\n        targets: element,\n        ...Toast.ANIMATION_CONFIG.properties.enter,\n        translateY: [entranceOffset, offset],\n        scale: baseScale,\n        translateZ: translateZ,\n        duration: Toast.ANIMATION_CONFIG.duration,\n        easing: Toast.ANIMATION_CONFIG.easing,\n      })\n    } else {\n      anime({\n        targets: element,\n        translateY: offset,\n        scale: baseScale,\n        translateZ: translateZ,\n        duration: Toast.ANIMATION_CONFIG.duration,\n        easing: Toast.ANIMATION_CONFIG.easing,\n      })\n    }\n  }\n\n  /**\n   * Layout management\n   */\n  private updateToastRegionHeight() {\n    if (!this.toastRegionRef) return\n\n    const visibleToasts = this.toasts.slice(-this.MAX_TOASTS)\n    if (visibleToasts.length === 0) {\n      this.toastRegionRef.style.height = '0px'\n      return\n    }\n\n    if (this.expanded) {\n      // When expanded, sum up heights of all toasts plus gaps\n      let totalHeight = 0\n      visibleToasts.forEach((toast, index) => {\n        const height = this.heights.get(toast.id) || 0\n        totalHeight += height\n        if (index < visibleToasts.length - 1) {\n          totalHeight += this.gap\n        }\n      })\n      this.toastRegionRef.style.height = `${totalHeight}px`\n    } else {\n      const lastToastHeight = this.heights.get(visibleToasts[visibleToasts.length - 1]?.id) || 0\n      const stackOffset = (visibleToasts.length - 1) * this.gap\n      this.toastRegionRef.style.height = `${lastToastHeight + stackOffset}px`\n    }\n  }\n\n  componentDidRender() {\n    this.toasts.forEach((toast, index) => {\n      const element = this.toastRefs.get(toast.id)\n      if (element) {\n        const currentHeight = element.offsetHeight\n        const storedHeight = this.heights.get(toast.id)\n        if (currentHeight !== storedHeight) {\n          this.heights.set(toast.id, currentHeight)\n        }\n        this.animateToast(element, index)\n      }\n    })\n    this.updateToastRegionHeight()\n  }\n\n  render() {\n    const visibleToasts = this.toasts.slice(-this.MAX_TOASTS)\n\n    return (\n      <Host\n        class={{\n          'toast-container': true,\n          [this.position]: true,\n        }}\n      >\n        <div\n          class=\"toast-region\"\n          ref={el => (this.toastRegionRef = el as HTMLDivElement)}\n          onMouseEnter={this.handleMouseEnter}\n          onMouseLeave={this.handleMouseLeave}\n        >\n          {visibleToasts.map((toast, index) => (\n            <div\n              key={toast.id}\n              ref={el => this.toastRefs.set(toast.id, el as HTMLElement)}\n              class={{\n                toast: true,\n                [toast.type]: true,\n                removing: toast.removing,\n                stacked: !this.expanded,\n                expanded: this.expanded,\n              }}\n              style={{\n                zIndex: `${index + 1}`,\n              }}\n              part=\"toast\"\n            >\n              <div class=\"content\">\n                <div class=\"text\">\n                  {toast.title && <div class=\"title\">{toast.title}</div>}\n                  {toast.description && <div class=\"description\">{toast.description}</div>}\n                </div>\n              </div>\n\n              {toast.action && (\n                <vui-button variant=\"ghost\" size=\"sm\" onClick={toast.action.onClick}>\n                  {toast.action.label}\n                </vui-button>\n              )}\n\n              {toast.dismissible && (\n                <vui-button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  class=\"close\"\n                  onClick={() => this.removeToast(toast.id)}\n                  aria-label=\"Dismiss\"\n                >\n                  <vui-icon name=\"ic:outline-close\" size=\"sm\" />\n                </vui-button>\n              )}\n            </div>\n          ))}\n        </div>\n      </Host>\n    )\n  }\n}\n",":host {\n  display: inline-block;\n}\n\nvui-dropdown-menu-item {\n  display: flex;\n  align-items: center;\n}\n\nvui-dropdown-menu-item vui-icon {\n  display: inline-flex;\n  width: 1rem;\n  height: 1rem;\n  margin-right: 0.5rem;\n}\n\nvui-button {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n}\n","import { Component, Event, EventEmitter, h } from '@stencil/core'\n\nimport { MenuAction } from './user-menu-interfaces'\n\n@Component({\n  tag: 'vui-user-menu',\n  styleUrl: 'user-menu.css',\n  shadow: true,\n})\nexport class UserMenu {\n  @Event() menuAction: EventEmitter<MenuAction>\n\n  private handleMenuAction = (action: MenuAction) => () => {\n    this.menuAction.emit(action)\n  }\n\n  render() {\n    return (\n      <vui-dropdown-menu part=\"menu\">\n        <vui-dropdown-menu-trigger slot=\"trigger\" part=\"trigger\">\n          <vui-button variant=\"ghost\" size=\"icon\" aria-label=\"User menu\" part=\"button\">\n            <vui-icon name=\"solar:user-bold-duotone\" size=\"md\" part=\"user-icon\" />\n          </vui-button>\n        </vui-dropdown-menu-trigger>\n\n        <vui-dropdown-menu-item part=\"menu-item\" onClick={this.handleMenuAction('profile')}>\n          <vui-icon name=\"ic:outline-face\" size=\"sm\" part=\"item-icon\" />\n          <span part=\"item-text\">Profile</span>\n        </vui-dropdown-menu-item>\n\n        <vui-dropdown-menu-item part=\"menu-item\" onClick={this.handleMenuAction('settings')}>\n          <vui-icon name=\"ic:outline-settings\" size=\"sm\" part=\"item-icon\" />\n          <span part=\"item-text\">Settings</span>\n        </vui-dropdown-menu-item>\n\n        <vui-dropdown-menu-separator part=\"separator\" />\n\n        <vui-dropdown-menu-item part=\"menu-item\" onClick={this.handleMenuAction('logout')}>\n          <vui-icon name=\"ic:outline-logout\" size=\"sm\" part=\"item-icon\" />\n          <span part=\"item-text\">Logout</span>\n        </vui-dropdown-menu-item>\n      </vui-dropdown-menu>\n    )\n  }\n}\n"],"mappings":"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","ignoreList":[]}